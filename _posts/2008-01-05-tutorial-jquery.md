---
layout: post
title: チュートリアル：デザイナーのためのjQuery
categories:
- translate
tags: []
status: publish
type: post
published: true
meta:
  pvc_views: '2946'
  blogger_blog: warikiru.blogspot.com
  blogger_author: t32khttp://www.blogger.com/profile/06797489791220082722noreply@blogger.com
  blogger_permalink: /2008/01/document_05.html
  _edit_last: '1'
---
<p></p><span style="color: rgb(204, 0, 0);font-size:85%;" >注意：がんばって訳してみましたが、誤りなど発見された方は <a href="mailto:ijok.ijok@gmail.com">わたくし</a>までご指摘お願い致します。<br />一部、訳せなかった箇所もあるので、分かる方いらっしゃったらコメントなりメールなりで教えてくださると大変助かります。<br /><br /></span><br /><cite><a href="http://docs.jquery.com/Tutorials:jQuery_For_Designers">ウェブページにシンプルな振る舞いを付け加えるための控えめなJavaScriptの例</a><br />原文: <a href="http://www.ok-cool.com/posts/read/1-jquery-for-designers-part-1">http://www.ok-cool.com/posts/read/1-jquery-for-designers-part-1</a><br />著者：<a href="http://www.markpanay.com/">Mark Panay</a><br /></cite><br /><br /><p><span style="color: rgb(153, 51, 153); font-weight: bold;font-size:130%;" > パート１</span><br /></p>セマンテッィクなマークアップを思い浮かべると私はちょっとおかしくなる。後で変更するかもしれないようなマークアップに句読記号を入れるのは本当にいやなんだ。みんなも知っているように文の始めや終わりに付くこの記号は、もはや、その文語的意味として使われていない。<br /><br /><br />例として、フォームを作成するときに、入力ボックスの前にある種の「ストップ」があるのをユーザに気づかせるためだとは理解しているが、コロンをlabelテキストの終わりに埋め込まなければならないのは非常に面倒だ。もちろん、その次に、クライアントは私たちにコロンをハイフンかコンマに変更することは可能かと尋ね、がむしゃらになってそれに対応するだろう。なぜならば、サイトのすべてのページにコロンを挿入したし、すべて検索置換するにはうまくいったとしてもすこし無茶があるからだ。<br /><p><br /><span style="font-weight: bold;font-size:130%;" > CSSが助けてくれる？</span><br /></p>思いやりのあるW3Cメンバーらは私たちに、要素の前や後にコンテンツを付け加えることができる“:before”と“:after”というすてきな疑似クラスを提供してくれている。しかし、皆さんもご存じの通り、この便利な方法はIEではサポートされていません。それじゃ、どうしたらいい？<br /><br /><p style="font-weight: bold;"><span style="font-size:130%;"> JavaScriptにトライしてみる？</span><br /></p>いいや、私はデザイナーだ、JavaScriptなんて使わない、だって見苦しいし、アクセシブルでもなければ、ユーザビリティ的にも良くない、何よりも私のサイトを重くする。うーん、OK。<br /><p><br /><span style="font-weight: bold;font-size:130%;" > 魔法のライブラリ（jQuery）</span><br /></p>少しの間、この変なライブラリに騙されてみよう。このライブラリはプログラミングの達人になることもなく、気軽に導入することができ、しかも、私たちのナイスなマークアップを汚さずにいろいろ利口なことをしてくれる。このライブラリを利用すると、コードは以下のようになる。<br /><pre>&lt;script src="<span class="external free">http://jquery.com/src/jquery-latest.js</span>"&gt;&lt;/script&gt;<br />&lt;script type="text/javascript"&gt;<br />$(document).ready(function(){<br />$("dd label").append(":");<br />});<br />&lt;/script&gt;</pre><br />OK、ふざけてないし、魔法も使っていない、<a style="font-weight: bold;" href="http://www.markpanay.com/tutorials/jquery/test01.html" id="pg:0" title="この例を見て欲しい。">この例を見て欲しい。</a><br />そのページのコードを見てくれれば、コロンがコード上にないことに気づくだろう。<br /><br />まず最初に、公式サイトからjquery.jsを読み込むが、スピード面からしてお勧めはしない。（これは最新バージョンを使用するなという意味ではない。）次に、ページ上にあるすべてのdd要素の子孫であるlabel要素を見つけ、ラベルの最後にコロンを付け加えるという関数を記述する。この関数はページが読み込まれるまでは実行されない。<br /><span style="color: rgb(204, 0, 0);">which is decided by the last bit of JavaScript before we close the </span><code style="color: rgb(204, 0, 0);">script</code><span style="color: rgb(204, 0, 0);"> tag. (<a style="font-weight: bold;" href="http://docs.jquery.com/Tutorials:jQuery_For_Designers#Mythical_widget">この部分</a>訳せなかったです。)</span><br /><br />もし、コロンを要素の始めに付けたい場合はどうしたらよいか？それは、以下のようにappendの代わりにprependに置き換えればよい。<br /><pre> $("dd label").prepend(":");<br /></pre><br />これ以上シンプルにできないし、この美しいマークアップに手を加える必要もない。<br />もちろん、このJavaScriptをサイト全体に導入したいのであれば、外部ファイルとしてすべてのページに読み込ませることもできる。<br /><pre>&lt;script src="<span class="external free">http://jquery.com/src/jquery-latest.js</span>"&gt;&lt;/script&gt;<br />&lt;script src="scripts/myjavascript.js"&gt;&lt;/script&gt;<br /></pre><br />これでlabel要素を含むdd要素があるすべてのページにコロンを付け加えることができるだろう。クライアントにコロンを変更したいと頼まれても、非常に簡単な修正をするだけでサイト全体が更新される。例で見てきたようにだ。<br /><br />この技術のマイナス面はユーザーがJavaScriptを理解する必要があることだが、このリスクは大半のユーザーが克服すると私は理解しているし、この場合においては、そのリスクはたいしたことではない。<br /><br />お分かりのように、jQueryはとても便利で、私たちはまだその表面すら触っていない。jQueryについてもっと知りたければ、<a style="font-weight: bold;" href="http://jquery.com/" id="hkpu" title="公式サイト">公式サイト</a>を見ればよい。<br /><br />パート2では、jQueryを使った例をもう少し見ていこう。コロンの代わりに画像を使用してみようか、それともlabelテキストを画像に置き換えてみようか、それとも...<br /><br /><br /><br /><p><span style="font-weight: bold; color: rgb(153, 51, 153);font-size:130%;" > パート2</span><br /></p>jQueryのサイトを見ると、ブラウザ毎のCSS対応の差異をjQueryが”fix”してくれると理解できる。パート1では、私たちはシンプルにタグの内側に情報を付け加えるためにjQueryを使用した。また、それはサイト全体の句読記号を非常に素早く簡単に変更することを可能にしてくれた。<br /><br />パート2ではもう少し掘り下げてみよう。最近の多くのウェブサイトは"title"、"summary"、あとは記事のメインの"body"といった構成の"news"ページを含んでいる傾向がある。しかし、これは時として、ものすごい量のテキストを表示させる結果になる。私はあなたについては知らないが、もし私が大量のテキスト見たのならば、それを読もうとはせず、そのページを離れるだろう。それで？jQueryにどうしてほしい？<br /><br /><p><span style="font-weight: bold;font-size:130%;" > ...であればステキじゃないですか？</span><br /></p>記事の"body"部分が読みたいと思ったとき、もしくは各記事の要約を見て読みたいと思ったときに、各記事の下部に小さなボタンを設置して、そこを押すことで表示・非表示できたらステキじゃないですか？もちろん、そうしたいし、jQueryを使えば<a style="font-weight: bold;" href="http://www.markpanay.com/tutorials/jquery/test02.html" id="yzcb" title="このように">このように</a>素早く簡単にできてしまう。<br /><br /><p><span style="font-weight: bold;font-size:130%;" > 飛び込んで</span><br /></p>jQueryに真っ先に飛び込む前に、少しだけ、私たちの好きなアクセシブルでセマンティックでストリクトなXHTMLコードについて考えてみよう。もし、単に直接ページにボタンを設置し、ユーザーがJavaScriptをオフにしているのならば、私たちは無意味なボタンを置いたことになる。これはユーザービリティ的によくない。う〜ん。<br /><br /><p><span style="font-size:130%;"><span style="font-weight: bold;">よくないボタン、よくない</span></span><br /></p>OK、まず第一にJavaScriptが使用可能ならば、"button"を追加する必要がある。幸いなことに私たちはすでにこの方法をパート1で理解していて、ボタンを追加するには''prepend'を使えばよい。<br /><p><span style="font-size:130%;"><br /><span style="font-weight: bold;">カッコイイとこ見せて</span></span><br /></p>それで、今回のJavaScriptの最初の部分は以下のようになる...<br /><pre>&lt;script src="<span class="external free">http://jquery.com/src/jquery-latest.js</span>"&gt;&lt;/script&gt;<br />&lt;script&gt;<br />// When the page is ready<br />$(document).ready(function(){<br />$(".article .thebody").hide();<br />$("#container .article ul")<br />.prepend("&lt;li class='readbody'&gt;&lt;a href='' title='Read the article'&gt;Read Body&lt;/a&gt;&lt;/li&gt;");<br />});<br />&lt;/script&gt;</pre><br />もしこのチュートリアルのパート1部分を読んでいたのならば、ちょっとした類似点に気づいただろうか。マークアップは以下のようになる...<br /><pre>&lt;div id="container"&gt;<br />&lt;div class="article"&gt;<br />&lt;p&gt;Title 01&lt;/p&gt;<br /><br />&lt;p class="summary"&gt;Summary 01&lt;/p&gt;<br />&lt;p class="thebody"&gt;Lorem ipsum....&lt;/p&gt;<br /><br />&lt;ul class="actions"&gt;<br />&lt;li&gt;&lt;a href=""&gt;comment&lt;/a&gt;&lt;/li&gt;<br />&lt;li&gt;&lt;a href=""&gt;Trackback&lt;/a&gt;&lt;/li&gt;<br />&lt;/ul&gt;<br /><br />&lt;/div&gt;<br /><br />&lt;div class="article"&gt;<br />&lt;p&gt;Title 02&lt;/p&gt;<br /><br />&lt;p class="summary"&gt;Summary 02&lt;/p&gt;<br />&lt;p class="thebody"&gt;Lorem ipsum....&lt;/p&gt;<br /><br />&lt;ul class="actions"&gt;<br />&lt;li&gt;&lt;a href=""&gt;comment&lt;/a&gt;&lt;/li&gt;<br />&lt;li&gt;&lt;a href=""&gt;Trackback&lt;/a&gt;&lt;/li&gt;<br />&lt;/ul&gt;<br />&lt;/div&gt;<br />&lt;/div&gt;</pre><br />それではまず、JavaScriptは"body"のテキストを非表示にするためにすべての<code>.thebody</code>クラスの要素を隠し、それから.articleのなかのUL要素を探しだし、その中に“Read Body”というテキストリンクの内容を持ったLI要素を追加する。<br /><br />このことは、すべての記事のテキスト部分を非表示にし、記事を含むすべての順不同リストにもう一つリスト項目を付け加えることを意味する。OK,簡単（だった？）しかし、次に、私たちは自分たちに必要な機能を得るために深くて暗いJavaScriptの深みについて徹底的に調べなければならない。<br /><pre>&lt;script src="<span class="external free">http://jquery.com/src/jquery-latest.js</span>"&gt;&lt;/script&gt;<br /><br />&lt;script&gt; //&lt;![CDATA[<br />// When the page is ready<br />$(document).ready(function(){<br />$(".article .thebody").hide();<br />$("#container .article ul")<br />.prepend("&lt;li class='readbody'&gt;&lt;a href='' title='Read the article'&gt;Read Body&lt;/a&gt;&lt;/li&gt;");<br /><br /><b>$(".actions li.readbody a").click(function(event){<br />$(this).parents("ul").prev(".thebody").toggle();<br /><br />// Stop the link click from doing its normal thing<br />return false;<br />});</b><br />});<br />//]]&gt;&lt;/script&gt;</pre><p><br /><span style="font-weight: bold;font-size:130%;" > 暗くて深い？</span><br /></p>なんだって？OK、JavaScriptは私たちが考えるほど暗くて深いものではないが、それでもなお謎めいた部分は残る。基本的に、今回付け加えたこの新しいコードはjQueryで挿入した"Read Body" リンクを探し、<code>.thebody</code>クラスを見つけるまでHTML通してあと戻る。<code>.thebody</code>クラス見つけるとトグルスイッチをオン、オフできるようにする。また初期設定ではリンクテキストのみを表示し、記事の本文は表示しない。（そのため、クリックしたりページを更新しない）<br /><br />以下のサンプル記事の”Read Body"のリンクテキストの中の1つをクリックして試してみて。<br /><a href="http://ijok.ijok.googlepages.com/jq_readbody.html"><span style="font-weight: bold;">サンプル記事</span><br /></a><br /><br />これで終わりだ。私たちはアクセシブルなJavaScriptを使ってユーザビリティ改善のため既存のサイトを修正した。以前のコードと比べて、JavaScriptをCDATAタグで囲んでいるのに気づくだろう、これはXHTML文法チェッカーからダメだしされるの防ぎ、ページがストリクトな仕様に準拠するためである。
