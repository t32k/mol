---
date: 2016-10-27
title: コンテンツグループというものがあった
subtitle: How to Set Up Google Analytics Content Grouping
categories: 
    - analytics
excerpt: 久しぶりにGoogleアナリティクスを使ってみると見慣れないコンテンツグループというものがあった。なんてことはない、文字通りコンテンツをグルーピングするそうだ。
---

久しぶりにGoogleアナリティクスを使ってみると見慣れない[コンテンツグループ](https://support.google.com/analytics/answer/2853423?hl=ja)というものがあった。なんてことはない、文字通りコンテンツをグルーピングするそうだ。

基本的にページ単位でアクセス解析するものだと思うのだけど、何百・何千という単位のページを個別に考えのは少々骨が折れるし、全体像が掴めない。ページというのはなにかしらのグループに属しているはずなので、そこで、そうゆうのをまとめて解析できるようにするのがこのコンテンツグルフープの役割だ。

そういえば思い出したが、昔、何百万という商品ページがあったのをカテゴリーごとに、[リクエストURIを書き換えてグルーピング](/mol/log/google-analytics-on-large-site/)したのを思い出したが、今はもっと便利になっている。

例えば、このブログならひとつひとつの記事がページになり、グループはいかようにも設定できるだろう。2016年、2015年、2014年...という**年次**でグルーピングするのもひとつの方法だろう。たいていのブログサイトなら記事の公開年ごとにディレクトリを区切って管理しているかもしれないが、あいにく私のブログではURLが長くなるのは嫌だったので、そうゆうURL構成になってはいない。

![](/mol/images/2016/1027-01.png)

コンテンツグループのグルーピングはそういったURLやタイトルの規則性を利用してもできるが、トラッキングコード別にグループ化もできる点が素晴らしいと思う。

```javascript
ga('set', 'contentGroup1', '{{.PublishedYear}}'); 
```

上記のように、トラッキングコードを記事に仕込むことでグルーピングできる（`{{.PublishedYear}}`部分は何かしらの変数で）。

![](/mol/images/2016/1027-02.png)

こんな具合に`contentGroup1`が`year`というグループになっている。

トラッキングコードでグルーピングできるということは、なんでもできるということだ。例えば、その記事の文字数をカウントしてGAトラッキングに渡して文字数ごとにグルーピングしたり、コメント数や、ソーシャルシェア数別に分けても良いだろう。可能性は無限大だが、解析できるグループのスロット数は5つまでなので、お気をつけて。

そうゆうわけで、ページに対して新たな切り口で解析できるのは良いと思った。

