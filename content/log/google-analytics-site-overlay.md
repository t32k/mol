---
date: 2009-07-30
title: Google Analyticsの『サイト上のデータ表示』は信頼できるのか？
categories: 
    - analytics
---

『サイト上のデータ表示』とは『コンテンツ』ナビゲーションの下にある機能で、ページにあるリンクのクリック率がわかるというものです。小難しい数字の羅列のレポートとは違って、どこが押されているのか直感的に分かる素晴らしい機能ですが、個人的には毎回ちょっと違和感を覚える結果だったので何となく信用していませんでした。

先日、会社の方でこの機能を見たらクリック率がすべて0%になっている、ありえない状態を発見したので、この『サイト上のデータ表示』はどのような仕組みで動いてるのか気になったので調べてみました。

## なぜクリック率がすべて0%になったのか？

> URL の書き換え フィルタを使用して URL を書き換ると、実際の HTML に記述されたリンクの URL とコンテンツ サマリー レポートの [ナビゲーション サマリー] に表示されるフィルタで書き換えられた URL は一致しなくなります。 この場合、サイト上のデータ表示レポートは、HTML のリンクとレポートに記録されたデータを正しく関連付けられなくなります。

+ [About In-Page Analytics - Analytics Help](https://support.google.com/analytics/answer/2558811?hlrm=en&rd=1)

Analyticsヘルプに見たらあっさり解決しましたｗ


確かに会社の方では複数のサブドメインをひとつのプロファイルでまとめていたので、ドメインを表示させるアドバンスフィルタ（通常のURL表示はドメイン以下のみを表示する仕様なので）をかけてありました。でもねもとはと言えばこれを見てやったのに...

+ [クロスドメイン トラッキングについて - アナリティクス ヘルプ](https://support.google.com/analytics/answer/1033876?hl=ja&rd=1)

言われたとおりやっただけなのに、ほかの機能が使えなくなるのはどうかなと思ってしまいます。まぁ無料だからね..とはいえ、もしフィルタを使ってなかったとしても『サイト上のデータ表示』は少々癖があります。

## 同一URLリンクはまとめてカウントされる

例えば、同じページ上に『トップページへ戻る』リンクがサイトロゴ画像とテキストリンクであった場合、それらは同じURLなので、まとめてカウントされます。（実際はサイトロゴが6回、テキストリンクが4回クリックされたとしても、GA上ではどちらもクリック数10と表示されます。）

__（A要素のhref属性で記述された）標準的なリンクしか計測できない__

ざっと挙げる限りこれだけ計測できないリンク（というかクリックイベント）がある。

+ JavaScriptリンク（onclick属性でwindow.openなど）
+ pageTrackerで作成した仮想ページビュー（_trackPageview()など）
+ URLリダイレクト
+ サブドメインのページへのリンク
+ 外部サイトへのリンク
+ ダウンロードファイル(PDFに直リンクとか)
+ フレームへのリンク
+ フォームのinputボタン
+ Flashコンテンツ
+ イメージマップ（AREA要素のhref属性なので）

URLの書き換えの項を見る限り、[ナビゲーション サマリー]のデータを基にしているのかもしれない。だから、A要素のhref属性でも飛び先にga.jsがインクルードされていない外部サイト、ダウンロードファイルなどは計測されないのね。結局、使いどころとしてはあまりやんちゃなことしてない静的ページくらいしか使えないのかもしれない。

同じような機能で有料のCrazyEggがあるので、オーバーレイで直感的に確認したいという方はそちらの方の使用を薦める。ただ、CrazyEggもCSSの兼ね合いによっては不具合が予想されるのでそこは注意したい。

+ [Crazy Egg - build heat maps and track clicks](http://www.crazyegg.com/help/Viewing_Results/Why_is_my_website_not_displaying_all_the_images_or_CSS/)

## 参考サイト

+ [Site Overlay Report: Google Analytics Power User Part 2 | Cardinal Path Blog](http://www.cardinalpath.com/site-overlay-report-google-analytics-power-user-part-2/)



