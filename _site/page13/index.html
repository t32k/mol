<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MOL &mdash; Designing for a Mobile World!</title>
    <link href="http://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/assets/main.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/images/logo.png"/>
    <link href="/feed.xml" rel="alternate" type="application/rss+xml" title="MOL" />
    <meta name="title" content="MOL">
    <link rel="canonical" href="http://t32k.me//page13/index.html">
     
           
    <meta property="og:title" content="MOL"/>
    <meta property="og:url" content="http://t32k.me//page13/index.html"/>
    
    
    <meta property="og:site_name" content="MOL">     
</head>
<body>
    
<section class="site-nav">
    <header>
        <nav id="navigation">
            <a class="brand" href="/">
                <img src="/images/logo.png" alt="Inc">
            </a>
            <a href="/" class="home">Blog</a>
            <a href="https://github.com/t32k/maple">Maple</a>
            <a href="https://github.com/t32k/t32k.github.io/blob/master/README.md">About</a>
        </nav>
    </header>
</section>

<div class="blog-cover" style="background-image:url(/images/blog-cover.jpg);">
    
    <section>
        <div class="container">
            <h1>MOL</h1>
            <h3>Designing for a Mobile World!</h3>
        
            
            <a href="https://twitter.com/t32k" title="Follow on Twitter" target="_blank"><i class="icon icon-twitter"></i></a>
            
            
            <a href="http://facebook.com/t32k" title="Like on Facebook" target="_blank"><i class="icon icon-facebook"></i></a>
            
            <a href="/feed.xml" title="RSS Feed">
                <i class="icon icon-rss"></i>
            </a>
        </div>
    </section>
</div>


<article class="container">

  
    <section class="index">
        <!-- -->
        <div>
            <h2 class="title"><a href="/mol/log/omniture-sitecatalyst-vs-google-analytics" rel="prefetch">サイトカタリストとGoogle アナリティクスの比較</a></h2>
            <p><p><cite>原文：<span style="font-size: small;"><a title="Omniture SiteCatalyst vs. Google Analytics - An Objective Comparison" href="http://www.slideshare.net/Semetis/omniture-sitecatalyst-vs-google-analytics-an-objective-comparison-7814945" target="_blank">Omniture SiteCatalyst vs. Google Analytics</a></span>
投稿日：2011-05-03 by <a href="http://www.slideshare.net/Semetis">Semetis</a></cite>
<div id="__ss_7814945" style="width: 510px;"></p>

<iframe frameborder="0" height="426" marginheight="0" marginwidth="0" scrolling="no" src="http://www.slideshare.net/slideshow/embed_code/7814945" width="510"></iframe>

<div style="padding: 5px 0 12px;">View more <a href="http://www.slideshare.net/thecroaker/death-by-powerpoint" target="_blank">PowerPoint</a> from <a href="http://www.slideshare.net/Semetis" target="_blank">Semetis</a></div>

<div style="padding: 5px 0 12px;"><!--more--></div>

<p></div>
<h2>1.Implementation</h2>
<h4>SiteCatalyst <span style="color: #800000;"><strong>(´・ω・｀) BAD</strong></span></h4>
<ul>
    <li>複雑な実装（evars, props...）</li>
    <li>カスタマイズの必要性</li>
    <li>要：テクニカルスーパーバイザー</li>
    <li>メンテナンスのために要：ITサポート</li>
</ul>
<ul>
    <li>&gt;&gt; かなり複雑（実装&amp;メンテナンス）</li>
    <li>&gt;&gt; セットアップに週/月単位でかかる</li>
    <li>&gt;&gt; 非常に高価なソリューション￥￥￥</li>
</ul>
<h4>Google Analytics<span style="color: #339966;"> <strong>(・∀・) GOOD!</strong></span></h4>
<ul>
    <li>すべてのページに（ユニークな）1つのタグを入れるだけ</li>
    <li>オプション実装が可能
<ul>
    <li>カスタム変数</li>
    <li>イベントトラッキング</li>
    <li>仮想ページビュー</li>
    <li>Eコマース, ...</li>
</ul>
</li>
</ul>
<ul>
    <li>&gt;&gt; 基本的な実装は簡単（1日もかからない）</li>
    <li>&gt;&gt; 高度な実装に関してはそれなりに複雑</li>
    <li><strong>&gt;&gt; 無料</strong>であり、すべての人が使える</li>
</ul>
<div><span style="color: #c0c0c0;">--</span></div>
<h2>2. Input</h2>
<h3>2-1. Input: Traffic filtering</h3>
<h4>SiteCatalyst <span style="color: #800000;"><strong>(´・ω・｀) BAD</strong></span></h4>
<ul>
    <li>フィルタリングオプションに制限がある</li>
    <li>いくつかのフィルタは追加のコスト発生</li>
    <li>フィルタはプロファイルではなくレポート毎に設定する必要がある</li>
</ul>
<h4>Google Analytics <span style="color: #339966;"><strong>(・∀・) GOOD!</strong></span></h4>
<ul>
    <li>あらかじめ定義したカスタムフィルタをプロファイルレベルで適用可能</li>
    <li>簡単な設定</li>
    <li>例：IP除外、サイトの一部分だけ含める、特定の地域だけ含めるなど...</li>
</ul>
<h3>2-2. Input: Tracking – Traffic sources/Campaigns</h3>
<h4>SiteCatalyst <span style="color: #800000;"><strong>(´・ω・｀) BAD</strong></span></h4>
<ul>
    <li>トラッキングコードはすべてのリンクに設定しなければならない</li>
    <li>その時、トラッキングコードをSiteCatalystレポート上で確認するために分類用のファイルを送信しなければならない（SAINT 分類）
追加のステップとしてキャンペーントラッキングも同様</li>
    <li> AdWordsの費用データはトラッキングコードに統合されていない</li>
    <li>Google AdWordsとの統合はこれまた追加のコストでAdobe SearchCenterというのが存在</li>
</ul>
<h4>Google Analytics<span style="color: #008000;"> <strong>(・∀・) GOOD!</strong></span></h4>
<ul>
    <li>費用データも含めてGoogle Adowordsとの完全なる統合（無料）</li>
    <li>その他のリンク（バナーやメルマガ...）もまた、キャンペーン名やソース、メディアを含んだurmパラメータで手動でトラッキングすべき</li>
    <li>フィルタを使用することでレポート上でリネームや複数のキャンペーン/流入元をまとめることが可能</li>
</ul>
<h3>2-3. Input: Tracking – Goals/Events/Custom Variables</h3>
<h4>SiteCatalyst <span style="color: #008000;"><strong>(・∀・) GOOD!</strong></span></h4>
<ul>
    <li>複数の変数をトラッキング可能、いくつかの計算指標ではブレイクダウンでレポート可能</li>
    <li>カスタムイベント、コンバージョン、トラフィック（要：カスタマイズ実装）をトラッキング可能</li>
    <li>CVファネルレポートはSCレポートインターフェース上からセットアップ可能（イベント指標に関して。計算指標はできない）</li>
    <li>ファネルレポートは事前に設定する必要はなく遡って評価可能</li>
</ul>
<h4>Google Analytics <span style="color: #800000;"><strong>(´・ω・｀) BAD</strong></span></h4>
<ul>
    <li>ゴール設定は特に実装の手間はない（URLベースのため）</li>
    <li>ファネルパスとビジュアリゼーションレポートの設定は追加のコード実装無しで簡単にセットアップ可能</li>
    <li>ファネルレポートは過去に遡れない</li>
    <li>Eコマーストラッキングは追加のタグ実装が必要</li>
    <li>カスタム変数（最大で5つ）とイベントトラッキングは異なるセグメントやインタラクションタイプをトラッキング可能</li>
    <li>イベントをゴールとして設定できる（新GA）</li>
</ul>
<div><span style="color: #c0c0c0;">--</span></div>
<h2>3. Interpretation</h2>
<h3>3-1. Interpretation: Metrics</h3>
<h4>SiteCatalyst<span style="color: #008000;"> <strong>(・∀・) GOOD!</strong></span></h4>
<ul>
    <li>指標の計算が可能。これらの指標はSC上で事前に定義された重要指標（例：直帰率、離脱率、ページビュー/訪問数、訪問者あたりの訪問数、ランディングページ、イベントコンバージョンレート,...）とは別の重要指標として定義が可能</li>
    <li>データウェアハウス全ての生データを蓄積可能、カスタム・複雑なレポートも実行可能(72時間はかかる)</li>
    <li><em>クリックスルー</em>、<em>インスタンス</em>はデフォルトの指標として使用される</li>
</ul>
<h4>Google Analytics<span style="color: #800000;"> <strong>(´・ω・｀) BAD</strong></span></h4>
<ul>
    <li>指標を計算することができない</li>
    <li>しかし、最も重要な指標に関してはGAで事前に定義されておりすべての（カスタム）レポートで閲覧可能</li>
    <li><strong>訪問</strong>は最も使用されるデフォルト指標</li>
</ul>
<h3>3-2. Interpretation: Dashboards</h3>
<h4>SiteCatalyst <span style="color: #008000;"><strong>(・∀・) GOOD!</strong></span></h4>
<ul>
    <li>いちから作成可能</li>
    <li>ダッシュボードは全てのレポートを取り込むことが可能</li>
    <li>フィルタとセグメント設定も保持可能</li>
    <li>複数のフォーマットで共有可能</li>
</ul>
<h4>Google Analytics <span style="color: #008000;"><strong>(・∀・) GOOD!</strong></span></h4>
<ul>
    <li>最大でプロファイルごとに20ダッシュボードまで作成可能</li>
    <li>ユーザーフレンドリーで簡単にカスタマイズ可能</li>
    <li>ダッシュボードレポートにもフィルタが適用されるようになった</li>
    <li>新GAでは一瞬で他のユーザーへ複製が可能</li>
    <li>複数のフォーマットで共有可能</li>
</ul>
<h3>3-3. Interpretation: On-site performance reporting</h3>
<h4>SiteCatalyst <span style="color: #008000;"><strong>(・∀・) GOOD!</strong></span></h4>
<ul>
    <li>柔軟なカスタムレポートで訪問者の行動を分析可能</li>
    <li>ページレベルの遷移、累積的なパスレポート</li>
    <li>内部キャンペーンのためのトラッキングコード追加可能（分類ファイルは不要）</li>
</ul>
<h4>Google Analytics<span style="color: #800000;"> <strong>(´・ω・｀) BAD</strong></span></h4>
<ul>
    <li>指定したページの前後しか分析できない</li>
    <li>ページ内（例：ヘッダー、メニュー,...）のインタラクションはイベントトラッキングで評価可能</li>
</ul>
<span style="color: #c0c0c0;">--</span>
<h2>4. Other Differentiating Specificities</h2>
<h4>SiteCatalyst</h4>
<ul>
    <li>カスタマイズ性が高い（ユーザー行動、ネガティブ分析, ... ）</li>
    <li>サードパーティや外部システムとの統合（SAINT classification）</li>
    <li>&quot;Data Sources&quot;経由でデータのインポートが可能（インポート後は削除できない）</li>
    <li>ページ遷移:ページレベルの遷移と累積的なパスレポート（GAは前後しか見れない）</li>
    <li>カスタマーサポート</li>
    <li>計算指標</li>
    <li>複数サイトで同様のレポートが比較可能</li>
</ul>
<h4>Google Analytics</h4>
<ul>
    <li>生データの利用性、フィルタオプションの拡張性によって複数のプロファイルを作成可能</li>
    <li>簡単なCVファネルレポート vs. SCのフォールアウトレポートとイベントコンバージョンファネル</li>
    <li>追加のタグ実装なしでのGoogle AdWordsとの統合</li>
    <li>簡単に使える！しかも理解しやすい！</li>
    <li>共有設定が簡単（但しサブセットデータのみ）</li>
    <li>新・ベータバージョンの機能</li>
</ul>
<span style="color: #c0c0c0;">--</span>
<h2>4. Conclusions</h2>
<ul>
    <li>もし、ある解析ツールから他のツールへ変更するならば、これまでに貯めたデータはあきらめなければならない</li>
    <li>新たな機能は移行コストに見合うものですか？またこれからも投資し続けますか（SiteCatalyst）？</li>
    <li>決定は見積もり次第です
<ul>
    <li>- 実装コストは？</li>
    <li>- 新たなデータの解釈の必要性は？</li>
    <li>- 導入するためのリソースと時間は？</li>
    <li>- サードパーティのデータとの連携によるポテンシャルは？（統合の必要性）</li>
    <li>- 自社の要件とSLAの条件は？</li>
</ul>
</li></p>

<h2></ul></h2>

<p>というわけで、2011年5月のスライドということでちょいちょい古い部分もありますが、なんとなく理解。これにGA Premiumとかも入ってくると話は変わってくるだろうなと。</p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2012-22-February" title="February 22, 2012">February 22, 2012</time>
            </div>
        </div>
        <hr>
    </section>
    
    
  
    <section class="index">
        <!-- -->
        <div>
            <h2 class="title"><a href="/mol/log/mobile-marketplace" rel="prefetch">Appcelerator Open Mobile Marketplace でなんか売ってみる！</a></h2>
            <p><p><a href="https://marketplace.appcelerator.com/home"><img class="fig" title="Appcelerator Open Mobile Marketplace" src="http://t32k.me/mol/file/2012/02/aomm.png" alt="" width="500" height="156" /></a></p>

<p>新年明けましたですね、おめでたですね。ということで先月、Ti.tokyo.GIG 2012新年会なるものに参加しまして、それはそれはモチベーションをあげてもらいました。ありがとうございました。やはり同じ志の人らが集まってワイワイするのは楽しいです。
<ul>
    <li><a href="http://ti-news.hatenablog.jp/entry/2012/01/22/162109">[Report] 2012年1月21日 Ti.tokyo.GIG 参加レポート - Titanium News </a></li>
    <li><a href="http://www.learningtitanium.com/meetup-2/ti-tokyo-meetup-jan-2012.html">Ti Tokyo Meetup Jan 2012 - Learning Appcelerator Titanium </a></li>
</ul>
なお、この新年会は世界が注目していたようです（上記レポート参照）</p>

<p>ただ！ただですね！まぁ、デザイナーはいなかったですね、はい。</p>

<!--more-->

<p>確かに、Objective-CやJavaを書かなくてもいいからといって世の中のデザイナー全員がJavaScriptを熟知して書けるのかといわれればそうではないですよね。単純にボタンを表示させてHello UNKO!とかならデザイナーでも全然できるんですけど、やっぱりちゃんとしたアプリを作るとなるとそれなりの量のJavaScriptを書かなければなりません。大変です。げんなりです。</p>

<p>だからといって、モバイルアプリの世界に入っていかないのももったいないと思います。そこで、コード書けないデザイナーでもモバイルアプリの世界というかTitaniumに関わっていく手段として、<strong><a href="https://marketplace.appcelerator.com/home">AppceleratorのOpen Mobile Marketplace</a></strong>にデザインパーツを売ってみるって道もありますよ！ってのが今回のエントリの主旨でござんす。</p>

<p>Open Mobile Marketplaceってゆーのは、Titaniumで使う便利モジュールとかが売られているところでして、去年の秋ごろに公開されました。このマーケットプレイスでは開発者が作ったモジュールを審査さえ通れば自由に売ることが可能な素晴らしいとこです。まぁTitanium開発者版のiTunes Storeみたいな感じでしょうか。
<ul>
    <li><a href="http://d.hatena.ne.jp/kaz_konno/20111124/1322153970">JavaScriptでモジュールを作ろう！ - kaz_konno’ blog: walkthisway </a></li>
</ul>
ここ重要なんですけど、別にモジュールとかコードで書かれたもの以外にもデザインパーツが売れちゃうとこなんですね。例えば、<strong><a href="https://marketplace.appcelerator.com/apps/762">ホームアイコン</a></strong>とか、またまた<strong><a href="https://marketplace.appcelerator.com/apps/768">一貫性のあるテーマのパーツ</a></strong>などなど売られています。実際、落としてみるとほんとにPSDなんですね。コードかかなくてもいいですｗただ、エンジニアの人はPhotoshop持ってるとも限らないので、比較的安価な<a href="http://www.pixelmator.com/">Pixelmator</a>の形式でも保存しておいたほうが親切です。</p>

<p>ここも重要なんですが値段設定ですよ、アイコンが$8でテーマにいたっては$39で売られてますよ！売られてますよ！デザインもプログラミングも頑張って作ったアプリが85円で売りだしても全然売れないiTunes Storeとはわけが違うんですよ！！（まぁ市場としては小さいですけど）7:3で取り分になるんですけどもね、これもまた魅力的ですよね。</p>

<p>よく、Titnaiumの勉強会とかモバイルの勉強会でエンジニアさんに話を聞くとやっぱりデザインができない、デザイナーが少ないといったことをよく聞きます。デザインなんて慣れないことは時間かかるので、そうゆうのが数ドルくらいで解決できるんなら普通に買うよってことも聞きます。ってことで潜在的需要も大いに有りです。</p>

<p>ということで、<strong><a href="http://tissa.t32k.me/">tissa</a></strong>で作った数字フォントに計算記号など追加したもの売ってみました。<a href="http://www.dotcolon.net/blog/?p=64">まぁ僕が作ったわけではないのですけどね！</a>
<ul>
    <li><strong><a href="https://marketplace.appcelerator.com/apps/1217 ">Leijona Font by i&amp;M | Appcelerator </a></strong></li>
</ul>
とりあえず、とりあえず買ってみればいいとおもうよ(・∀・)!</p>

<p>必要なものと言えば、PayPalのアカウントとデベロッパー登録と売るブツとマーケットプレイスに並べるための以下のものですね。
<ul>
    <li>Product listing logo (62px x 62px)<em></li>
    <li>Product profile logo (115px x 115px)</em></li>
    <li>Overview image (350px x 315px) *</li>
    <li>Demonstration URL (YouTube, Vimeo)</li>
    <li>Screenshots</li>
</ul>
ここはデザイナーなんでちょっとオサレなイメージ作りたいですねｗあと難しいコードでもないので、デザインパーツなら特に説明もいらないと思うし（他の売ってるものを真似ればいいし）英語もそんなに苦労しないと思うんで。みんな売ってみなよ！</p>

<h2></h2>

<p>で、どんくらい売れたのって！？
1個も売れてないよΣヽ(｀д´)ﾉ ！！！！</p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2012-10-February" title="February 10, 2012">February 10, 2012</time>
            </div>
        </div>
        <hr>
    </section>
    
    
  
    <section class="index">
        <!-- -->
        <div>
            <h2 class="title"><a href="/mol/log/google-analytics-on-large-site" rel="prefetch">大規模サイトにおける Googleアナリティクス導入から成果まで</a></h2>
            <p><p>ありがたくも、<a href="http://lp19.cssnite.jp/">CSS Nite LP, Disk 19「アクセス解析」</a>で話した「大規模サイトにおけるGoogleアナリティクス導入から成果まで〜Webデザイナーがアクセス解析に携わってみて〜」が 、<a href="http://cssnite.jp/archives/best-session2011.html">CSS Niteベストセッション2011</a> のベスト20に選ばれたので、文字に起こしてみるの巻。</p>

<p><object id="__sse10814106" width="500" height="426" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="allowFullScreen" value="true" /><param name="allowScriptAccess" value="always" /><param name="wmode" value="transparent" /><param name="src" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=lp19ishimoto-120105025806-phpapp02&amp;stripped_title=lp19-ishimoto&amp;userName=t32k" /><param name="allowscriptaccess" value="always" /><param name="allowfullscreen" value="true" /><embed id="__sse10814106" width="500" height="426" type="application/x-shockwave-flash" src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=lp19ishimoto-120105025806-phpapp02&amp;stripped_title=lp19-ishimoto&amp;userName=t32k" allowFullScreen="true" allowScriptAccess="always" wmode="transparent" allowscriptaccess="always" allowfullscreen="true" /> </object></p>

<p>DMM.com Laboの石本です。よろしくお願いします。今日は大規模サイトでのGoogleアナリティクス運用について話します。そんなに難しいことではないので、リラックスして読んでもらえれば幸いです。
<h2>アジェンダ</h2>
本日の流れはこんな感じでやっていきます。
<ol>
    <li>自己紹介</li>
    <li>アクセス解析への動機</li>
    <li>プロファイルの適正化</li>
    <li>コンバージョン設定から改善施策へ</li>
    <li>まとめと今後の課題</li>
</ol>
<div>&lt;!--more--&gt;</div>
<h2>自己紹介</h2>
では、やっていきましょう。まずは自己紹介させてください。Twitter IDは<a href="https://twitter.com/#!/t32k">@t32k</a>でWebデザイナーをしています。</p>

<p>2011/9/26ですね。共著ですが「<a href="http://www.amazon.co.jp/gp/product/4844362232/ref=as_li_ss_tl?ie=UTF8&amp;tag=warikiru-22&amp;linkCode=as2&amp;camp=247&amp;creative=7399&amp;creativeASIN=4844362232">スマートフォンサイト制作の教科書</a>」という本を書きました。初めてスマートフォンサイトを作る方、入門者向けですので、今後のスマートフォンサイトの概要を知る上でもマーケッターさんの方も買ってもらってもいいんじゃないかなと思います。オールカラーで読みやすいです。</p>

<p>あとは趣味でiPhoneアプリを作ったりしています。左が<a href="http://itunes.apple.com/app/nyars/id433610083?mt=8">Nyars</a>というアプリで、なんてことのないただの猫耳をオーバーレイして写真が取れるというものです。右が<a href="http://itunes.apple.com/app/tissa/id464594372?mt=8">tissa</a>というアプリで、なんてことのないただのタイマーアプリで350円で売ってます。
<h2>アクセス解析への動機</h2>
と言うわけで、本題に入ってきます。見た感じ完全に制作サイドのWebデザイナーがなにゆえアクセス解析に興味をもったのかと話していきます。</p>

<p>まず私の毎日仕事しているフィールドです、みなさんもご存知かと思いますがDVDレンタルなどで有名な<a href="http://www.dmm.com/">DMM.com</a>です。レンタル以外にも動画配信や、通販事業なども行っています。そこで私も含めたWebデザイナーこのような、商品の特集ページであったりヘルプページ、バナーなど制作しています。
<p style="text-align: center;"><img class="aligncenter size-full wp-image-3895" title="DEM" src="http://t32k.me/mol/file/2012/01/19.010-002.png" alt="" width="500" height="375" /></p>
当たり前ですが、Webサイトはデザイナーだけでは作れません。サイトをしっかりと運用していくにはデザイナー以外にもエンジニアの力も必要ですし、マーケッターさんの力も不可欠です。しかし、お互いが協力していくには相手の言葉を知らなすぎるような気がします。例えば、マーケッターさんがデザイナーにCPCがどーたらCPAがどーたらといってもピンとこないでしょうし、反対にデザイナーがマーケッターさんにUXDやIAがどーたらと言っても理解してもらえないと思います。まぁ大げさな例ですが、多かれ少なかれ似たようなケースがそこかしこで起きているでしょう。私はデザイナー5年目ですが、この人らは同じ日本語を喋りますが、違う言語の中で生きてると理解しています。
<p style="text-align: center;"><a href="http://ja.wikipedia.org/wiki/%E3%83%A8%E3%83%8F%E3%83%B3%E3%83%BB%E3%83%B4%E3%82%A9%E3%83%AB%E3%83%95%E3%82%AC%E3%83%B3%E3%82%B0%E3%83%BB%E3%83%95%E3%82%A9%E3%83%B3%E3%83%BB%E3%82%B2%E3%83%BC%E3%83%86"><img class="aligncenter fig" title="Johann Wolfgang von Goethe" src="http://t32k.me/mol/file/2012/01/19.012-001.png" alt="" width="500" height="375" /></a></p>
これは私の好き言葉でもありますが、外国語を知らないもの者は母国語を知らないとゲーテは言っています。相手の言っていることは理解したいですし、そうすることで自分の言語：デザインに関しても理解が深まれば好都合です。そうゆうことで自分に対してはこのようなスタンスで臨めば良いかもしれませんが、これを他者に求めるのは酷なこともかもしれません。ましてや、クライアントや上司の方に、あんたデザインなんでわかってないんや！などとは言えません。</p>

<p>そこで皆が共通に理解できるモノが必要となってきます。はい、数字ですね。3は3でありそれ以上でもそれ以下でもありません。3が4になれば増えたということ、2になれば減ったということは、どんな職種の人だろうと同じ理解を得られるわけです。そして、Webサイトの数字といえばアクセス解析であり、それが切実に必要だと感じています。
<h2>プロファイルの適正化</h2>
というわけで、デザイナーですけどアクセス解析をやってこうと考えたわけですが、そう簡単にうまくはいきません。プロファイル（Google アナリティクスのレポート）の閲覧の段階でまずつまづきましたという話をしていきます。</p>

<p>その前に、DMM.comのサイト規模を紹介したいと思います。DMM.comはクレジット登録しているなどすぐに課金可能な会員が362万人。月間ユニークユーザーが1900万人の8.6億ページビュー。Google アナリティクスのプロファイル数は83個、Google アナリティクスにアクセスできるユーザー数は119人ほどです。</p>

<p>正直このレベルになってくると、データの嵐の海を彷徨うのと同じようなもので、ただトラッキングコードを入れていればOKという話ではありませんでした。そこで最初にとりかかった作業がプロファイルの適正化です。誰が見てもおかしくない数値、見たい情報を見ることができるプロファイルにしなければなりません。</p>

<p>Google アナリティクスを大規模サイトで使用する上で問題になってくるのが50,000URL問題です。ちょうど<a href="http://code.google.com/intl/ja/apis/analytics/docs/index.html">Googleアナリティクス開発者向けドキュメント</a>に該当の問題ついて述べられてるところがあります。
<blockquote><strong>1日あたり、50,000 を超える一意の URL または仮想ページをトラッキングしていますか。</strong>
<span style="font-size: x-small;">Google Analytics では毎日、ウェブサイトから送信されてきたすべてのデータと、ページビューで並べ替えられた上位 50,000 ページ上のレポートを収集します。残りのページは、コンテンツ レポートの「(その他)という別のセクションにまとめられます。トラフィックの少ないページビューの詳しいレポート情報を表示するには、トラフィックの多いすべてのページビューを除外するフィルターを使用した新しいプロファイルを設定してください。これにより、上位 50,0000 の URL に残りのページを効率的に含められるようになります。</span></blockquote>
これはどうゆうことかと言いますと、Google アナリティクスで1日で処理できるURL数はページビューの上位5万までなんですね。5万以上になると、それからは<em><strong>（other）</strong></em>（その他）という項目にまとめられてしまいます。これがどうゆう悪さをしますのかと言いますと、実際はページビューがカウントされているはずのページ、GIFリクエストも発生しているのにもかかわらず5万URLに入らなかったため、プロファイルで確認できないページが出てきます。全体のPVには入ってるんですけども、個別のURLレポートでは確認できないということです。</p>

<p><img class="aligncenter size-full wp-image-3902" title="other" src="http://t32k.me/mol/file/2012/01/19.022-002.png" alt="" width="500" height="375" /></p>

<p>全体のページビューを見ても、この青色の部分が（other）その他で全体の4割も占めています。このくらいになってくると、ページを製作して公開しても測定できないってことがよくありました。</p>

<p>とりあえず、この５万URLの内訳はどうゆうものなのか調べてみます。このような商品の詳細ページというのが多くあります。これは通販のタイガー＆バニーのDVDですが動画配信でも同じ作品がありますし、この作品がレンタル出来ればレンタルフロアでも似たような詳細ページができあがります。つまりDMM.conでは1つの作品に対して複数のURLを生成してしまう可能性が高いです。こう言ったコンテンツは数百万単位でありますからこの時点でURLは5万におさまらないということが理解できます。</p>

<p>またこのような商品リスト・一覧ページというのがあります。これは価格の高い順番、低い順番などで並べ替えができます。つまりURLのパラメータで処理することになるので、それだけURLが増えます。また1つのリストページに掲載できる商品も限られますので、1ページ2ページとページ数が増えていきます。</p>

<p>このように、個々のURLを見ていくと当面、分析・解析しないようなURLが非常に多くあることが理解できます。私たちは解析を始めたばかりなのでこのような瑣末なとこに注力するのではなくもっと全体を見るほうが合理的でしょう。</p>

<p>ということで、ハイレベルサイトマップという考えが重要になってきます。こんなのです。</p>

<p>ハイレベルサイトマップ（ハイレベルサイトストラクチャ）というのは、サイトの概要・導線を理解するために必要なものです。URLごとではなくて、サイトの役割ごとでページをまとめて理解しようというものです。</p>

<p><img class="aligncenter size-full wp-image-3896" title="Hi_level" src="http://t32k.me/mol/file/2012/01/19.027-001.png" alt="" width="500" height="375" /></p>

<p>これをDMM.comにあてはめて考えてみると、このようなハイレベルサイトマップができあがりました。トップページがあって商品一覧ページと詳細ページを行き気してる感じですかね。このレベルの情報の粒度で理解出来ればいいので、Google アナリティクスのプロファイルもこれが確認出来ればいいわけです。つまり、私が欲しいのはハイレベルサイトマップ用のプロファイルが欲しいということです。</p>

<p>ハイレベル用のプロファイルを作成するには、同じ種類のページのURLをまとめる必要があります。そのためには、プロファイルに対してカスタム詳細フィルタをかけてあげます。</p>

<p>もうちょっとわかりやすくしたのが次のスライドです。URLを書き換えるためにはその対象となるURLを抜き出して再構成する必要があります。この場合、detailもしくはlistを含むものを引き出してきます。それをdetailもしくはlist以下のパラメータは全部削除して上書きしています。実際のURLに当てはめるとこうなります。はいこれで、だいぶURL数が少なすることができました。</p>

<p>おまけですが、正規表現ってのはやっぱり意味がわからないですよね。いきなり自信のない正規表現のフィルタをデータにかけるのはかなり危険なことなので練習する必要あります。Google アナリティクスであればコンテンツのアドバンスフィルタを有効にして正規表現を選択すれば実際のサイトURLで練習ができます。またローカルで確認したければWindowsなら<a href="http://weitz.de/regex-coach/">regex Coach</a>やMacなら<a href="http://atastypixel.com/blog/reginald-regex-explorer/">Reginald</a>がおすすめです。では、さきほどのフィルタ処理したあとのプロファイルはどーなっているのでしょうか。</p>

<p>デフォルト状態だとこのように4割が(other)でしたが、フィルタ処理後のプロファイルには(other)は綺麗サッパリなくなりました。代わって、フロアごとのdetailページやlistページが計測されています。まさしくハイレベルサイトマップのためのプロファイルです。</p>

<p>冒頭に見せました0PVのページもdetailとlistをまとめてゆとりがでたのか、ちゃんと計測されるようになりました。めでたしめでたし。</p>

<p>これでデータの嵐だった海が、人が理解できる・役立つInformation・情報の湖となりました。今度はこの湖をうまくこぐ必要がでてきます。
<h2>コンバージョン設定から改善施策へ</h2>
次は実際にGoogle アナリティクスを使って改善施策をしてみます。ここまでサラッと言いましたが、実際はプロファイルの適正化に1年くらいかかかってます（当時はGoogle アナリティクスの情報も少なかったですし、開発者ドキュメントも翻訳されていない状態でした&gt;&lt;）。そろそろ、結果ださないと社内に居場所ないなーって空気になってきたので本気で成果を出さなければなりません。</p>

<p>ということで今一度、成果・ゴールとは何かとゆうのを確認してみましょう。DMM.comの場合は簡単ですね。Eコマースサイトなので お金を稼ぐことです。 商品をいっぱい売ることが目標です。これ自体は至極簡単な話です。</p>

<p>そのためには商品が売れてるかどうかを確認する必要性があります。はい、コンバージョン設定を忘れておりました。コンバージョン設定のないGoogle アナリティクスは魅力半減といってもいいほど、これがないと意味がありません。当たり前ですよね、売上を上げるために解析ツールを使ってるのにそのツールで成果を確認できなければ、何のために使ってるのか意味がわかりません。</p>

<p>コンバージョンを設定するにはコンバージョンURLを指定するだけです。通常であればサンキューページといった購入完了ページをコンバージョンURLとして指定すればいいんですけど、DMM.comにはなかったんです。</p>

<p>各事業部によってページ遷移に差異があります。今回のケースは動画配信フロアのケースですが、購入完了ボタンを押すと、そのままユーザーのマイライブラリに飛ばされます。このマイライブラリというページはユーザーの買った動画が視聴できるページです。このページをコンバージョンURLにすると、買った動画を見るためにアクセスする度にコンバージョンが発生してしいまいます。</p>

<p>無駄にサンキューページを1枚挟むのもどうなのかと思い、今回はパラメータ処理で解決しました。バスケットに入れる、購入確認、マイライブラリと購入フローを通して遷移して来た場合のみ、URLにパラメータを付けることにしました。こうすることで普通にマイライブラリに遷移したときとは、URLで区別できるようにしたのです。はい、そうゆうわけで、めでたくコンバージョン推移を確認することができました。</p>

<p>はい、次に改善にあたっての仮説と言うほど大それた事ではないのですが、ちょっと気になる点があります。</p>

<p>先程のコンバージョンファネルを見てみましょう。問題となるのはここです。購入確認から購入完了となっているユーザーが93%となっています。これが多いのか少ないのか、現時点ではよく分かりませんが、あとはボタンを押すだけなのに離脱している人７％いるってのはどうなのかなと感じました。個人的には98%くらいあってもいいんじゃないかと。とどのつまり、取りこぼし多くない？ってことです。</p>

<p><img class="aligncenter size-full wp-image-3897" title="前" src="http://t32k.me/mol/file/2012/01/19.049-001.png" alt="" width="500" height="375" /></p>

<p>では、該当のページである購入確認がどのようなページなのか見てみましょう。これが改善前の購入確認ページです。該当の部分だけ表示しています。パッと見ごちゃごちゃして、どこを押せば購入完了となるのか瞬時に判断できません。一番の問題はここですね。購入完了と訂正するボタンがヴィジュアルのインパクトが同じであるのは頂けません。これを実際の生活で例えれば、例えばコンビニエンスストアで商品をレジまで持って行って、そこで店員がやめるの？買うの？って聞いてるようなものです。そんなのありえないですよね。</p>

<p>まだ改善できそうなところはありそうですね。はい、この長ったらしい注意書きですね。Windows7のときはどうやら、利用規約がどーやらと。これも同じように考えればくどいです。またこのような注意書きはこのページ以外にも書かれていることなので、この場面であえて表記する必要はないと判断しました。</p>

<p><img class="aligncenter size-full wp-image-3898" title="後" src="http://t32k.me/mol/file/2012/01/19.050-005.png" alt="" width="500" height="375" /></p>

<p>改善後のページでは、購入するボタンを金色にすることで一番目立たせています。また注意書き、規約の同意文を一行だけにしてすっきりさせました。訂正するボタンがなくなったので、「変更する」テキストリンクを設置しました。これで、迷いはなくなるのではないかと考えます。</p>

<p>結果はどーなったのでしょうか。</p>

<p>施策前後8週間の購入確認から購入完了の遷移率を調べてみました。こんな感じです。赤が改善後、青が改善前を現してます。平均して1.52%上昇しました。一応<a href="http://t32k.me/mol/log/statistical-significance/">有意差検定</a>もしてるので、たまたま上がったとは考えにくいです。</p>

<p><img class="aligncenter size-full wp-image-3900" title="1000" src="http://t32k.me/mol/file/2012/01/19.053-001.png" alt="" width="500" height="375" /></p>

<p>これがどれだけの売上へのインパクトだったかと、1回当たりの平均購入金額 * 1ヶ月当たりの1%平均ＣＶ数 * 改善率でおおよその金額が分かります。はい、1000万ほどの売上アップさせることができました。少なくとも翌月も改善の効果が見受けられたので2000万は確実です。工数もエンジニアとデザイナー2人が実質、3営業日くらいでやったのでコストパフォーマンスの高い仕事ができたのではないかと思っています。
<h2>まとめと今後の課題</h2>
URLを設計するのはエンジニアなので、そうゆうことを気にしてもらえるだけでも正規表現とかも簡単なもので済みますし、デベロッパーを味方に付けておいて損はないかと思います。じゃないと自分で勉強してやらないとダメでしんどいです＞＜</p>

<p>あと、お金じゃなくてもいいですけど、コンバージョンに近いところから手をつけ始めるのは、施策がダイレクトに成果に直結するので 分かりやすくて良いかと思います。やっぱり、どうしてもトップページなどの華やかなところから改修しがちですが、改修した結果それがどれだけコンバージョンアップに寄与できたの？ってことを考えるとちょっとあやふやになってしまいがちです。今回の購入フローページのように、目立たないところですが結果を出せたことで、同様のページにも目を向けさせることができたのは良いことだと思っています。</p>

<p>最後に、Google Analytics PremiumですがGoogle アナリティクスのエンタープライズ用のサービスです。まだ、日本ではサービス開始されてはいませんが、10億コールで約1200万円支払うで、今回紹介した5万URLの問題も100万まで拡張できたり、手厚いやヘルプサポートが受けられるみたいです。これがあれば、こんなにも苦労しなかったのですけどね。。。</p>

<p>また今後の課題としては、解析・改善までもってけるような教育や仕組みを作りたいです。</p>

<p>Google アナリティクスや他の解析ツールでも言えることですが、ページ間の流れを理解するのは便利ですが、1つのページの中の要素がどのようにユーザーに受け止めらているのかってのを理解するにはちょっと役不足なので、Google アナリティクスを補完するという意味でVOYAGE GROUPナビさんもおすすめの<a href="http://www.clicktale.com/">ClickTale</a>を導入中です。
<p style="text-align: center;"><a href="http://www.flickr.com/photos/avinashkaushik/4056840164/"><img class="fig aligncenter" title="The McDonald triplets!!" src="http://t32k.me/mol/file/2012/01/19.057-001.png" alt="" width="500" height="375" /></a></p>
ということで、まだアクセス解析の取り組みはスタートラインに立ったという現状なので暖かく見守って頂ければ幸いです。
<h2>リソース</h2>
<ul>
    <li><a href="http://t32k.me/mol/log/google-analytics-other-entry/">Google Analyticsの(other)とはなんぞや？ | MOL </a></li>
    <li><a href="http://t32k.me/mol/log/statistical-significance/">施策前後のCV率に有意差はあるのか？ | MOL </a></li>
    <li><a href="http://code.google.com/intl/ja/apis/analytics/docs/">Google アナリティクス開発者向けドキュメント - Google Code</a></li>
    <li><a href="http://higashizm.sakura.ne.jp/reg/http://higashizm.sakura.ne.jp/reg/%0D">はじめての正規表現</a></li>
    <li><a href="http://an-k.jp/blog/archives/2289">ハイレベルサイトマップの作り方 | dIG iT</a></li>
    <li><a href="http://www.cms-ia.info/news/google-analytics-premium-launched/">Google Analytics Premiumについてのまとめ :: 実践CMS*IA</a></li>
    <li><a href="http://uio.ecnavi.co.jp/category/%25E3%2583%2584%25E3%2583%25BC%25E3%2583%25AB/clicktale/">ClickTale « VOYAGE GROUP UIO戦略室ブログ </a></li>
</ul></p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2012-16-January" title="January 16, 2012">January 16, 2012</time>
            </div>
        </div>
        <hr>
    </section>
    
    
  
    <section class="index">
        <!-- -->
        <div>
            <h2 class="title"><a href="/mol/log/top-entry-2011" rel="prefetch">2011年のMOL人気エントリー</a></h2>
            <p><p>年末ヤッホイ！新年ヤッホイ！ってことで年の瀬っぽいことやろうかと。</p>

<p>今年は我ながら全力疾走したなーと思います、はい。まさか<a href="http://www.amazon.co.jp/dp/4844362232/">自分が本を書くとは思わなかったし</a>、Objective-Cの本を手に取ったときは<a href="http://itunes.apple.com/jp/app/tissa/id464594372?mt=8">iPhoneアプリなんてできっこない＞＜</a>って思ってたし、<a href="http://t32k.me/mol/log/kanazawa-js-v1-0/">kanazawa.js v1.0にいたっては開催したの今年ですよ!?</a>濃密すぎた一年でしたね。ドメイン更新し忘れてt32k.meになったりｗ
<ul>
    <li><strong><a href=" http://t32k.me/">Koji Ishimoto - t32k.me</a></strong></li>
</ul>
<div>今年人気だった記事です。</div>
<div>&lt;!--more--&gt;</div>
<ol>
    <li><strong><a href="http://t32k.me/mol/log/nyars/">WebデザイナーだけどiPhoneカメラアプリ、リリースできました！</a></strong>
ほんとTitanium Mobileに出会ってなかったらできませんでしたから！！ありがとう！そしてこれからもよろしく！
<span style="color: #c0c0c0;">-</span></li>
    <li><strong><a href="http://t32k.me/mol/log/ios-provisioning/">Titanium MobileのKitchenSinkを実機(iPhone)にインストール</a></strong>
ほぼProvisioningに関するお話なので開発環境は古くなってますがまだ役立つ記事かと。
<span style="color: #c0c0c0;">-</span></li>
    <li><strong><a href="http://t32k.me/mol/log/why-valley-wants-designers-can-code/">なぜシリコンバレーはコードの書けるデザイナーを求めているのか？ </a></strong>
僕ももっともっとコードが書けるようになってばりぃー行きたいです！
<span style="color: #c0c0c0;">- </span></li>
    <li><strong><a href="http://t32k.me/mol/log/javascript-bibliography/">JavaScriptを学ぶために役立つ本 85選</a></strong>
オライリーが選んだJS本、訳されてない本もいっぱいあるので要チェキです。てか最近だとパーフェクトJavaScript とテスト駆動JavaScript読めばいいんすかね？はい年末年始の課題図書ですｗ
<span style="color: #c0c0c0;"> -</span></li>
    <li><strong><a href="http://t32k.me/mol/log/ios-developer-program/">iOS Developer Program に登録!!!!</a></strong>
iOS開発者登録の予定ある人は絶対読んで！絶対ハマるから！！
<span style="color: #c0c0c0;">- </span></li>
    <li><strong><a href="http://t32k.me/mol/log/using-google-analytics-with-jquery-mobile/">jQuery MobileでGoogle Analyticsを使うために気をつけなければいけないこと</a></strong>
アクセス解析ネタですね。我ながらニッチなとこ攻めてると思いますｗ
<span style="color: #c0c0c0;">- </span></li>
    <li><strong><a href="http://t32k.me/mol/log/titanium-ui-iphone-systembutton/">Titanium.UI.iPhone.SystemButton</a></strong>
iOSのシステムアイコン一覧。なにかと便利かなー。
<span style="color: #c0c0c0;">- </span></li>
    <li><strong><a href="http://t32k.me/mol/log/titanium-mobile-jss/">Titanium Mobile でCSS的な、それJSS!!!!!!</a></strong>
TitaniumでCSS的なことができるJSSですが、廃れていくっぽい？（今後はLayout API？）のであんまり読まなくてもいい。
<span style="color: #c0c0c0;">- </span></li>
    <li><strong><a href="http://t32k.me/mol/log/titanium-mobile-meets-textmate/">TextMate で Titanium Mobile!!</a></strong>
Titanium IDE出ちゃったけど、<a href="http://blog.macromates.com/2011/textmate-2-0-alpha/">TextMateは待望の2.0</a>出たりしてやっぱりラブです。
<span style="color: #c0c0c0;">- </span></li>
    <li><a href="http://t32k.me/mol/log/coda-completion-for-jquery-mobile/"><strong>Coda.appでjQuery Mobileをコード補完</strong>
</a>Dreamweaver買わなくてもいいよ！補完なら<a href="http://panic.com/jp/coda/">Coda</a>でもできるよ！
<span style="color: #c0c0c0;">-</span></li>
</ol>
こーしてみると、やはりモバイル・スマホ系の記事が人気ですね。というかモバイルに注力するってのが今年の目標でもあったので個人的には良かったです。やっぱりIEがいない世界は素晴らしいですねｗ</p>

<p>何はともあれ、ありがとうございます。来年はアクセス解析頑張っていこうと思いますのでこれからもよろしくお願いします。</p>

<p>僕？僕はWebデザイナーです！
<table border="0" cellpadding="5">
<tbody>
<tr>
<td valign="top"><a href="http://www.amazon.co.jp/%E3%83%91%E3%83%BC%E3%83%95%E3%82%A7%E3%82%AF%E3%83%88JavaScript-PERFECT-4-%E4%BA%95%E4%B8%8A-%E8%AA%A0%E4%B8%80%E9%83%8E/dp/477414813X%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3Dwarikiru-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D477414813X" target="_blank"><img class="fig" src="http://ecx.images-amazon.com/images/I/51yrjFsf-2L._SL160_.jpg" alt="パーフェクトJavaScript (PERFECT SERIES 4)" width="125" height="160" border="0" /></a></td>
<td valign="top"><span><span><a href="http://www.amazon.co.jp/%E3%83%91%E3%83%BC%E3%83%95%E3%82%A7%E3%82%AF%E3%83%88JavaScript-PERFECT-4-%E4%BA%95%E4%B8%8A-%E8%AA%A0%E4%B8%80%E9%83%8E/dp/477414813X%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3Dwarikiru-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D477414813X" target="_blank">パーフェクトJavaScript
</a>井上 誠一郎 土江 拓郎 浜辺 将太</span></span></p>

<p><span><span>
</span></span>技術評論社 2011-09-23
売り上げランキング : 1048</p>

<p><a href="http://www.amazon.co.jp/%E3%83%91%E3%83%BC%E3%83%95%E3%82%A7%E3%82%AF%E3%83%88JavaScript-PERFECT-4-%E4%BA%95%E4%B8%8A-%E8%AA%A0%E4%B8%80%E9%83%8E/dp/477414813X%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3Dwarikiru-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D477414813X" target="_blank">Amazonで詳しく見る</a></td>
</tr>
</tbody>
</table>
<table border="0" cellpadding="5">
<tbody>
<tr>
<td valign="top"><a href="http://www.amazon.co.jp/%E3%83%86%E3%82%B9%E3%83%88%E9%A7%86%E5%8B%95JavaScript-Christian-Johansen/dp/4048707868%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3Dwarikiru-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4048707868" target="_blank"><img class="fig" src="http://ecx.images-amazon.com/images/I/51g1mDqlfJL._SL160_.jpg" alt="テスト駆動JavaScript" width="125" height="160" border="0" /></a></td>
<td valign="top"><span><a href="http://www.amazon.co.jp/%E3%83%86%E3%82%B9%E3%83%88%E9%A7%86%E5%8B%95JavaScript-Christian-Johansen/dp/4048707868%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3Dwarikiru-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4048707868" target="_blank">テスト駆動JavaScript</a><img style="border: none;" src="http://www.assoc-amazon.jp/e/ir?t=warikiru-22&amp;l=ur2&amp;o=9" alt="" width="1" height="1" />
Christian Johansen 長尾高弘 </span>アスキー・メディアワークス 2011-11-25
売り上げランキング : 24771</p>

<p><a href="http://www.amazon.co.jp/%E3%83%86%E3%82%B9%E3%83%88%E9%A7%86%E5%8B%95JavaScript-Christian-Johansen/dp/4048707868%3FSubscriptionId%3D15SMZCTB9V8NGR2TW082%26tag%3Dwarikiru-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4048707868" target="_blank">Amazonで詳しく見る</a></td>
</tr>
</tbody>
</table></p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2011-28-December" title="December 28, 2011">December 28, 2011</time>
            </div>
        </div>
        <hr>
    </section>
    
    
  
    <section class="index">
        <!-- -->
        <div>
            <h2 class="title"><a href="/mol/log/measuring-web-performance" rel="prefetch">Navigation Timingを使ってパフォーマンス計測（Google アナリティクス）</a></h2>
            <p><blockquote>本来のAdvent Calendarとは、12月1日からクリスマスの25日まで、カードに作られた窓を1日に1つずつ開けていくというものです。一方、技術系のAdvent Calendarは、12月1日から25日までの間、毎日違う人が特定のテーマに沿ってブログ記事を書くというものです。もちろん、ここでのテーマは「HTML5」になります。HTML5に関することならなんでもOKです！

<a href="http://atnd.org/events/21987">HTML5 Advent Calendar 2011 : ATND </a></blockquote>

<p>ども、HTML5 Advent Calendar 2011, 19日目担当のt32kでございます。今回もがんばります！</p>

<p>若干、9日目の<a href="https://twitter.com/#!/jovi0608">@jovi0608</a>さんとかぶってますが、気にせずNavigation Timingを実際にどのように利用できるかについて書きたいと思います。</p>

<h2>Navigation Timing</h2>

<p><a href="http://www.w3.org/TR/navigation-timing/">Navigation Timing</a>は<a href="http://www.w3.org/2010/webperf/">W3C Web Performance Working Group</a>が策定している仕様の一つで、ページの読み込み時間やネットワークにかかる時間など取得することができる仕様です。2011年12月現在、<strong>IE9+</strong>, <strong>Firefox7+</strong>, <strong>Chrome6+</strong>, <strong>Android Browser 4.0+</strong> (<a href=" http://caniuse.com/nav-timing">When can I use Navigation Timing API?</a>) が対応しています。</p>

<p>取れるタイミングというのは以下のようにいっぱいありますｗ
<ol>
    <li>navigationStart</li>
    <li>unloadEventStart</li>
    <li>unloadEventEnd</li>
    <li>redirectStart</li>
    <li>redirectEnd</li>
    <li>fetchStart</li>
    <li>domainLookupStart</li>
    <li>domainLookupEnd</li>
    <li>connectStart</li>
    <li>connectEnd</li>
    <li>secureConnectionStart</li>
    <li>requestStart</li>
    <li>responseStart</li>
    <li>responseEnd</li>
    <li>domLoading</li>
    <li>domInteractive</li>
    <li>domContentLoadedEventStart</li>
    <li>domContentLoadedEventEnd</li>
    <li>domComplete</li>
    <li>loadEventStart</li>
    <li>loadEventEnd</li>
</ol>
これの何が嬉しいかと言いますと、これまでページのWebパフォーマンスを計測するとなると、BODY要素の始めのほうでnew DateしてgetTimeして、BODY要素の終わりのほうで、またnew DateしてgetTimeして差分を取るのが一般的な計測方法だと思うのですが、それですとサーバー側と接続したりする時間などが考慮されておらず、実際の体感時間とずれた計測結果になります。</p>

<p>むしろ、こういったレイテンシこそ読み込み時間の大半を占める部分で重要になってきます。つまり、Navigation Timingを使えばこのような部分も計測することができ、みんなハッピーということですね。
<pre><code>var timing = window.performance.timing;
var loadTime = timing.loadEventEnd – timing.navigationStart;</code></pre>
こんな感じで、サクっとページの読み込み時間というのが取れます。</p>

<p><strong>参考</strong>
<ul>
    <li><a href="http://css.dzone.com/articles/using-html5s-navigation-timing">Using HTML5&#39;s Navigation Timing API to measure Page Load speed | Web Builder Zone</a></li>
    <li><a href="http://www.html5rocks.com/en/tutorials/webperformance/basics/">HTML5 Rocks - Measuring Page Load Speed with Navigation Timing</a></li>
    <li><a href="https://developer.mozilla.org/en/Navigation_timing">Navigation Timing - MDN </a></li>
</ul>
<div></div>
<h2>Measuring Web Performance</h2>
とはいっても、ちょっと僕JavaScriptよく分からないし、取れるタイミングも多くてよく分かんないっす。って方は大丈夫！あきらめないで（誰 ってことで、このNavigation Timingを活用した「<strong>サイトの速度</strong>」というGoogle アナリティクスのメニューから利用できます。
<ul>
    <li><strong><a href="http://analytics.blogspot.com/2011/05/measure-page-load-time-with-site-speed.html"> Google Analytics Blog: Measure Page Load Time with Site Speed Analytics Report </a></strong></li>
</ul>
<div>この機能リリース当初は、下記のようなコードをトラッキングコードに追加する必要ありましたが</div>
<pre><code><em>gaq.push([&#39;</em>trackPageLoadTime&#39;]);</code></pre>
<a href="http://analytics.blogspot.com/2011/11/site-speed-now-even-easier-to-access.html">現在では、コード追加なしでレポートから確認することできる</a>と思います。なかったらコード追加して確認してみてください。
<p style="text-align: center;"><a href="http://t32k.me/mol/file/2011/12/sitespeed.png"><img class="aligncenter  wp-image-3835 fig" title="sitespeed" src="http://t32k.me/mol/file/2011/12/sitespeed.png" alt="" width="500" height="398" /></a></p>
これらの情報は、最初に述べたNavigation Timingに対応しているブラウザに、プラス、Google ツールバーをインストールしたInternet Explorer(9以前)からも情報を取得しています。</p>

<p>こういった情報が分かることで、読み込み時間が長いために離脱率が高いページなど改善の効果測定ができるようになります。</p>

<p>また、「<strong>技術</strong>」というリンクをクリックすればネットワーク、サーバーに関するタイミング情報も確認することができます。
<p style="text-align: center;"><a href="http://t32k.me/mol/file/2011/12/tech.png"><img class="aligncenter  wp-image-3850 fig" title="tech" src="http://t32k.me/mol/file/2011/12/tech.png" alt="" width="500" /></a></p>
<strong>参考</strong>
<ul>
    <li><a href="http://www.google.com/support/analyticshelp/bin/answer.py?answer=1205784">サイトの速度 - アナリティクス ヘルプ</a></li>
    <li><a href="http://analytics.blogspot.com/2011/12/greater-insights-from-site-speed-report.html">Google Analytics Blog: Greater insights from the Site Speed report - Technical section </a></li>
</ul>
<h2>Measuring Social Interaciton</h2>
<img title="social" src="http://t32k.me/mol/file/2011/12/social.png" alt="" width="500" height="150" /></p>

<p>話は変わって、最近ソーシャルボタンが流行していますね、Twitter, Facebook, Google+などなどたくさんのいいね、シェアボタンがあります。ブログ読んでいると末尾にズラーッと並んだボタンをよく見かけます。あんなにつけて意味あるのかなーっと思ってしまいます。何よりも重いだろうよ。。。ってのが個人的な印象です。</p>

<p>しかし、そうゆうご時世かお仕事でも依頼があったので仕方なく実装したのですが、ちゃんと効果測定したいなと思い、Google アナリティクスで計測してみたいと思います。
<ul>
    <li><a href="http://code.google.com/intl/ja/apis/analytics/docs/tracking/gaTrackingSocial.html">Social Interaction Analytics - Google Analytics - Google Code</a></li>
</ul>
<pre><code><em>gaq.push([&#39;</em>trackSocial&#39;, network, socialAction, opt<em>target, opt</em>pagePath]);</code></pre>
基本となるのはこの<em>trackSocialという、</em>trackEventに似たメソッドです。これを利用して、Twitterのつぶやき数や、Facebookのいいね数をGoogle アナリティクス上から確認することができます。
<pre><code>// Facebook いいね
FB.Event.subscribe(&#39;edge.create&#39;, function(targetUrl) {
 <em>gaq.push([&#39;</em>trackSocial&#39;, &#39;facebook&#39;, &#39;like&#39;, targetUrl]);
});</code></pre>
<pre><code>// Twitter つぶやき
twttr.events.bind(&#39;tweet&#39;, function(event) {
 if (event) {
 var targetUrl;
 if (event.target &amp;&amp; event.target.nodeName == &#39;IFRAME&#39;) {
 targetUrl = extractParamFromUri(event.target.src, &#39;url&#39;);
 }
 <em>gaq.push([&#39;</em>trackSocial&#39;, &#39;twitter&#39;, &#39;tweet&#39;, targetUrl]);
 }
});</code></pre>
Facebook, Twitterに関しては、上記のコードを計測したいページに記述します。注意としては、iframe形式には対応していないので、公式サイトからいいねなどのウィジェットをダウンロードしてくるときはJavaScript形式にしてください。
<pre><code>&lt;a href=&quot;http://b.hatena.ne.jp/&quot; onclick=&quot;<em>gaq.push([&#39;</em>trackSocial&#39;, &#39;hatena&#39;, &#39;bookmark&#39;]);&quot;&gt;...</code></pre>
Google+のプラス数は特に何もしなくても勝手に認識してくれます。</p>

<p>そのほかにも、はてなブックマーク、mixiチェックも実装しましたが、ブックマーク、チェック完了時点のイベントが取れない（分からない）ので、単純にonclick時にtrackSocialを飛ばす対応しました。この結果から出る数字というのは実際にブックマークされた数、チェック数ではないので注意してください。ただmixiチェックはmixiデベロッパーサイト、パートナーダッシュボードからCSV形式でいいね数、チェック数、いいね・チェックから流入数などがダウンロード可能なので、そこから確認してもいいかもしれません。</p>

<p>GREEのいいねに関してiframe形式でしかウイジェットが配布されてなかったのでお手上げです :(
<p style="text-align: center;"><a href="http://t32k.me/mol/file/2011/12/socialaction.png"><img class="aligncenter  wp-image-3841 fig" title="socialaction" src="http://t32k.me/mol/file/2011/12/socialaction.png" alt="" width="500" /></a></p>
実装してデータが集まると、Googleアナリティクスの「<strong>ソーシャル</strong>」のメニューからサイト内のソーシャルアクション数が確認できます。hatena:bookmark, mixi:checkは実際にブックマークが完了された数、チェックが投稿された数ではないこと考慮しておくにして、このサイトにおいてはFacebookのいいね！が多いねみたいなことが確認できます。
<h2>Practice</h2>
さて、ソーシャルインタラクションのウイジェットを置いたことで、当初に懸念していたページの読み込み時間はどーなっているでしょうか。</p>

<p>Google 「サイトの速度」で、ウイジェット設置前後の3週間を比較してみると、平均で<strong>0.8~1.0秒</strong>ほど読み込み時間が増加してしまいました。</p>

<p><a href="http://www.gomez.com/download/aberdeen-gomez-best-in-class.pdf">Aberdeen Group (PDF)</a>というリサーチ会社が出したレポートによると、一般的に<strong>表示スピードが1秒遅くなると、PVは11%、CVは7%、顧客満足度は16%ダウンする</strong>といったことが報告されています。またこういった<a href="http://t32k.me/mol/log/performance-business/">ビジネスにおけるWebパフォーマンスの重要性</a>も訴えられています。</p>

<p>実際に、ソーシャルウイジェットを設置したサイトで、上記のような結果が起きたかといと、計測した3週間においては見受けられませんでした。というのもソーシャルウイジェット用にSCRIPT要素を5つくらい読み込んだのですが、BODY要素の最後の方に置いたので読み込みに時間はかかりますがレンダリングに対して余り影響しなかったのではないかと考えています。</p>

<p>とはいえ、利用率から考えてみると、<strong>ソーシャルアクション数 / ソーシャルウイジェットを置いたページのPV</strong>で算出してみると、<strong>0.2~0.01％</strong> という低い数値がでました。あんまり使われていないってことですね。。。</p>

<p>読み込み時間と言えば、Googleが読み込み時間をランキングに考慮するとかしないとか（最近まったく聞きませんね...）ありますし、単純に外部からスクリプトを多く読みこむことで、不具合の発生する確率も多くなるかもしれません。</p>

<p>やっぱりこんなもの取り外したい。でも取り外せないということで、単純にブックマークレット形式に変更しました。各ブックマークレットの方法は以下参照で。
<ul>
    <li><a href="http://pr.mixi.co.jp/2011/11/01/post-7.html#bookmarkle">気になるページをもっと共有しやすくする「mixiチェックブックマークレット」 | THINK SOCIAL</a></li>
    <li><a href="https://dev.twitter.com/docs/share-bookmarklet/translated/japanese">共有ブックマークレット | Twitter Developers</a></li>
    <li><a href="https://dev.twitter.com/docs/intents">Web Intents | Twitter Developers</a></li>
    <li><a href="http://b.hatena.ne.jp/register">はてなブックマーク - はてなブックマークをはじめる (セットアップ)</a></li>
    <li><a href="http://www.facebook.com/share_options.php">Share Bookmarklet | Facebook</a></li>
</ul>
現状は各ソーシャルウイジェットを生成するためにSCRIPT要素を読み込んでiframeを生成するパターンなのですが、ブックマークレットですと、投稿する利便性は落ちてしまいますがSCRIPT要素を読む込む必要もなくなるので安心です。非同期で読み込む方法も考えましたが、UIスレッドと非同期で読み込めるだけで読み込み時間自体は変わらないですし、なによりも管理が<a href="http://tokkono.cute.coocan.jp/blog/slow/index.php/xhtmlcss/asynchronous-loading-of-major-social-buttons/">複雑</a>です。
<p style="text-align: center;"><a href="http://t32k.me/mol/file/2011/12/speed.png"><img class="aligncenter  wp-image-3847 fig" title="speed" src="http://t32k.me/mol/file/2011/12/speed.png" alt="" width="500" /></a></p>
実際に施策後の経過を確認んしてみると変更前は3秒近くあった読み込み時間が、2秒台になりました。ソーシャルアクションに関しては、「いいね！」のブックマークレットがなくて「シェア」に変更する必要があったり、ソーシャルアクション計測するためのコードは元のiframeを生成するスクリプトに依存するので、それを読みこまなくなったため計測できず、単純にはてな、mixiチェックのようにclick数になり、正確な比較はできませんが、アクション数が激減したということは見受けられませんでした。</p>

<p>このサイトにおいて特にがっつりソーシャルと絡んでいくといった方向性もないので、パフォーマンスは犠牲にせずにこういった最小限のブックマークレットシェアボタンを置くというのが現実解かなと個人的には考えています。</p>

<p>ということで、結構マイナーだと思ってたNavigation Timingですが、Googleアナリティクス入れていれば実務でもガンガン使っていけると思いますんで、パフォーマンス改善に役立てもらえればと思います。</p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2011-19-December" title="December 19, 2011">December 19, 2011</time>
            </div>
        </div>
        <hr>
    </section>
    
    
    <section class="pagination" style="text-align:center">
      
        
        <a href="/page12" class="btn btn-outline">‹ Newer</a>
        
      
      
        <a href="/page14" class="btn btn-outline">Older ›</a>
      
    </section>
</article>


<footer class="site-footer">
    <div class="container">
        &copy; 2013 
        
        <nav>
            <a href="http://t32k.me/">MOL</a> &middot;
            <a href="/">Blog</a> &middot;
            <a href="https://github.com/t32k/maple">Maple</a> &middot; 
            <a href="https://github.com/t32k/t32k.github.io/blob/master/README.md">About</a>
        </nav>
        
        <nav class="social">
            
            <a href="https://twitter.com/t32k" title="Follow on Twitter" target="_blank"><i class="icon icon-twitter black"></i></a>
            
            
            <a href="http://facebook.com/t32k" title="Follow on Facebook" target="_blank"><i class="icon icon-facebook black"></i></a>
                
            <a href="/feed.xml" title="RSS Feed">
                <i class="icon icon-rss black"></i>
            </a>
        </nav>
        <p>Incorporated theme by <a href="https://sendtoinc.com">Inc</a></p>
    </div>
</footer>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="/assets/main.js"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=253595308025739";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>



</body>
</html>