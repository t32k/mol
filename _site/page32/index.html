<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MOL &mdash; Designing for a Mobile World!</title>
    <link href="http://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/mol/assets/main.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/images/logo.png"/>
    <link href="/feed.xml" rel="alternate" type="application/rss+xml" title="MOL" />
    <meta name="title" content="MOL">
    <link rel="canonical" href="http://t32k.me//page32/index.html">
     
           
    <meta property="og:title" content="MOL"/>
    <meta property="og:url" content="http://t32k.me//page32/index.html"/>
    
    
    <meta property="og:site_name" content="MOL">     
</head>
<body>
    
<section class="site-nav">
    <header>
        <nav id="navigation">
            <a class="brand" href="/mol/">
                <img src="/mol/images/logo.png" alt="Inc">
            </a>
            <a href="/mol/" class="home">Blog</a>
            <a href="https://github.com/t32k/maple">Maple</a>
            <a href="https://github.com/t32k/t32k.github.io/blob/master/README.md">About</a>
        </nav>
    </header>
</section>

<div class="blog-cover" style="background-image:url(/mol/images/blog-cover.jpg);">
    
    <section>
        <div class="container">
            <h1>MOL</h1>
            <h3>Designing for a Mobile World!</h3>
        
            
            <a href="https://twitter.com/t32k" title="Follow on Twitter" target="_blank"><i class="icon icon-twitter"></i></a>
            
            
            <a href="https://github.com/t32k" title="Follow on GitHub" target="_blank"><i class="icon icon-facebook"></i></a>
            
            <a href="/feed.xml" title="RSS Feed">
                <i class="icon icon-rss"></i>
            </a>
        </div>
    </section>
</div>


<article class="container">

  
    <section class="index">
        <!-- -->
        <div>
            <h2 class="title"><a href="/mol/log/google-analytics-custom-variables-part1/" rel="prefetch">Google Analytics カスタム変数、パート1：なぜ？</a></h2>
            <p><p><cite>原文： <a href="http://www.lunametrics.com/blog/2010/04/15/google-analytics-custom-variables-part/">Google Analytics Custom Variables, Part I: Why?</a>
投稿日：2010-4-15　by Jonathan</cite></p>

<p>Google Analaytics はユーザー情報をこれまで以上に継続してトラッキングする方法として、<a href="http://analytics.blogspot.com/2009/10/google-analytics-now-more-powerful.html">カスタム変数</a>を最近発表したんだ。
<h3>カスタム変数とは？</h3>
GAは、新規ユーザーだろうとリピーターであろうとも、ユーザーが閲覧している国や都市、さらにはどんなキャンペーンもしくはキーワード、リンクで来訪したのかなどの情報をすでに記録している。</p>

<p><img class="alignright" title="クレヨン" src="http://www.lunametrics.com/wp-content/uploads/2010/04/g2FEl5-300x179.jpg" alt="" width="300" height="179" /></p>

<p>しかし、GAでは同じようにこれら以外の情報も得ることができるかもしれない。例えば、君のCRMシステムで顧客情報を持っているとしよう。（もう少し具体的な例は後述する。）もし、そのような情報を<a href="http://cutroni.com/blog/2008/10/22/google-analytics-advanced-segmentation/">詳細セグメント</a>を使ってGAに記憶させれば、25～45歳男性（子持ち）セグメントが18～25歳女性(子供もなし)セグメントよりも購入動機が強いかどうかといったことを、君は理解できるだろう。</p>

<!--more-->

<h3>Google Analytics は既に持ってなかったけ？</h3>

<p>&quot;カスタム変数&quot;以前、&quot;ユーザー定義&quot;というのがあったんだ。ここで注目したいのは1つのセグメント vs. 複数の変数ということ。かつてこの機能で１つ以上の値を持とうとすると、<a href="http://www.lunametrics.com/blog/2008/04/17/stuff-more-than-one-value-in-gas-user-defined-segment/">いろいろめんどくさいことをしなければならなかったんだ</a>。けれども、現在カスタム変数を使用すれば君は簡単に複数の値を持つことができる。</p>

<p>（※注　以前のユーザー定義を使用していても、Google はこの機能をすぐに廃止するとはアナウンスしなかった。しかし、明らかにカスタム変数はこの機能をに取って代わるものだ。）
<h3 id="scopes_and_how_to_use_them">使用方法とスコープ</h3>
僕らはカスタム変数のテクニカルな内容について話すつもりはない（この後の記事は別にして）。しかし、スコープと呼ばれるこの重要なプロパティについて話そうと思っている。</p>

<p>スコープは基本的にGoogle Analyticsにおける詳細レベルを指し示しており、それらは必ず適用されなければならない。スコープは<strong>ビジター</strong>、<strong>セッション</strong>、もしくは<strong>ページビュー</strong>のどれかだ。</p>

<p><strong>ビジター</strong>レベル変数はユーザー定義にそっくりだ。ユーザーのクッキーに記録されサイトを訪れる度に適用される。このスコープはユーザーの本質的な性質、少なくとも半永久的なものを定義するのに最適だ。以下のようなものを記録するとよいでだろう。
<ul>
    <li>人口統計的な情報：年齢、性別、収入、家族構成、職業など</li>
    <li>顧客情報：会員、購読者、ゴールドメンバーといったもの</li>
    <li>最初の参照情報：どのように私たちを見つけたのか</li>
</ul>
<strong>セッション</strong>レベル変数は1つのセッションだけに適用される。この変数はセッション中に起きる特定のアクションを記録するのに適している。例えば以下のようなもの。
<ul>
    <li>商品をショッピングカートに入れた</li>
    <li>サイトの特定のセクションを閲覧した</li>
</ul>
<strong>ページビュー</strong>レベル変数で記録できるのは1回のページビューの間だけだ。以下のようなものに適用できるかもしれない。
<ul>
    <li>&quot;お気に入り&quot; ボタンを押した</li>
    <li>記事を友達に知らせた</li>
    <li>ページ内で別のタブを閲覧した</li>
</ul>
（※注 ページビューレベル変数は、<a href="http://t32k.me/mol/2009/09/google-analytics-event-tracking-guide/">イベントトラッキング</a>と場合によっては重複する部分があるかもしれない。どちらのモデルがユーザーのアクションをよりよく記録できるかは、君次第だ。）
<h3>カスタ変数についてもっと詳しく</h3>
今回、なぜカスタム変数を使用したらよいのか理解できたと思うので、次回は実際の使用方法について説明しようと思う。もう少しで次のシリーズの記事を書くのでチェックしてくれ！</p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2010-04-October" title="October 04, 2010">October 04, 2010</time>
            </div>
        </div>
        <hr>
    </section>
    
    
  
    <section class="index">
        <!-- -->
        <div>
            <h2 class="title"><a href="/mol/log/flasher-life-with-progression/" rel="prefetch">Progressionで始めるFlasher Life ～ActionScript書かなくてもFlashコンテンツ作れますよ～</a></h2>
            <p><p><a href="http://t32k.me/mol/file/2010/10/dtt10.jpg"><img class="fig" title="dtt10" src="http://t32k.me/mol/file/2010/10/dtt10.jpg" alt="" width="470" height="263" /></a></p>

<p>月イチの社内勉強会も今回で10回目となりました。いろいろ感慨深いところはありますが記念すべき10回目を飾るスピーカーは福井のスーパーデザイナー <a href="http://twitter.com/shirokuro331">@shirokuro331</a>さんでした。</p>

<p>&lt;!--more--&gt;<a href="http://twitter.com/shirokuro331">@shirokuro331</a>さんとの出会いは、この勉強会の第1回目のスピーカーである<a href="http://twitter.com/shoito">@shoito</a>さんからの紹介で、「福井にスーパーデザイナーがいるよ」とのこと。それならば是非弊社で講演してもらいたいってゆうスーパーな流れで決まりました！</p>

<p>講演内容はProgressionというFlashのフレームワークについて話してもらいました。僕はFlashが苦手どころか出来ないんですけど、Flasherバリバリの人たちを見ていると、いつかあんな風になりたいって思うことがいっぱいあります。けれどもすぐ挫折してしまう。。。</p>

<p>今回は、まさしくそういった人向けの講義であって、ProgressionはFlashの入門の敷居を下げてくれる良いフレームワーク。スキルに応じてProgressionを使うスタイル（コンポーネントスタイル、タイムラインスタイル、クラススタイル）があるので、敷居が下がって飽きたらなくなってきても次の段階に進めばよいとのこと。うん、入門から次へのステップの道のりを提示してくれる素晴らしいプレゼンだったと思う。</p>

<p>個人的に印象的だったのは、簡単なサンプルサイトをProgressionを使って作ってしまうデモ。あーデモってすごいなって、100の理論より1発のデモだなとすごく感じました。僕も取り入れたい！</p>

<p>話し変わって、<a href="http://twitter.com/shirokuro331">@shirokuro331</a>さんの前に、弊社ActionScript部部長が自社サイトにどうFlashを組み込むんでいくかLTしてもらいました。やっぱり、ASはゲームとかワクワク感を作るのには最適なのかなと思った。僕らJS部はサイ本を読んで標準！標準！って肩苦しいことをしてるけどこうゆう感覚も大事だなと再確認できた。JS部もAS部もお互い切磋琢磨していけたらいいなって思いました。</p>

<p>そんなわけで、社外のWeb関係者さんとも引き続き交流したいので、弊社で喋りたいって人は<a onclick="javascript:_gaq.push(['_trackEvent','outbound-article','twitter.com']);" href="http://twitter.com/t32k">@t32k</a>まで連絡くださいー♪</p>

<p>今回、<a href="http://twitter.com/shirokuro331">@shirokuro331</a>さんが話してくれた講義は<strong><a href="http://www.wcaf.jp/event/">10/16(土)に開催されるWCAF Seminar Vol.4</a></strong>(福井県)でも聞けることができるので、北陸の人は参加すればいいと思うよ！僭越ながら僕もWebパフォーマンスをテーマに話させていただきますので、よかったらどうぞ！
<table border="0" cellpadding="5">
<tbody>
<tr>
<td valign="top"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4839931798/warikiru-22/ref=nosim/" target="_blank"><img class="fig" src="http://ecx.images-amazon.com/images/I/41bpo2of4pL._SL160_.jpg" border="0" alt="ProgressionによるFlashコンテンツ開発ガイドブック" width="125" height="160" /></a></td>
<td valign="top"><span><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4839931798/warikiru-22/ref=nosim/" target="_blank">ProgressionによるFlashコンテンツ開発ガイドブック</a>
阿部貴弘 池田泰延 楢山哲弘 松竹 誠 山上健一 </span></p>

<p><span>毎日コミュニケーションズ  2010-04-28
売り上げランキング : 16474
おすすめ平均  <img src="http://g-images.amazon.com/images/G/01/detail/stars-3-5.gif" alt="" /></span></p>

<p><span><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4839931798/warikiru-22/ref=nosim/" target="_blank">Amazonで詳しく見る</a></span> <span>by <a href="http://www.goodpic.com/mt/aws/index.html">G-Tools</a></span></td>
</tr>
</tbody>
</table>
<table border="0" cellpadding="5">
<tbody>
<tr>
<td valign="top"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4881667432/warikiru-22/ref=nosim/" target="_blank"><img class="fig" src="http://ecx.images-amazon.com/images/I/51rNL-eQ8xL._SL160_.jpg" border="0" alt="詳細！Progression 4 Flashフレームワーク入門ノート" width="127" height="160" /></a></td>
<td valign="top"><span><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4881667432/warikiru-22/ref=nosim/" target="_blank">詳細！Progression 4 Flashフレームワーク入門ノート</a>
大重 美幸 </span></p>

<p><span>ソーテック社  2010-07-17
売り上げランキング : 32082
おすすめ平均  <img src="http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif" alt="" /></span></p>

<p><span><a href="http://www.amazon.co.jp/exec/obidos/ASIN/4881667432/warikiru-22/ref=nosim/" target="_blank">Amazonで詳しく見る</a></span> <span>by <a href="http://www.goodpic.com/mt/aws/index.html">G-Tools</a></span></td>
</tr>
</tbody>
</table></p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2010-02-October" title="October 02, 2010">October 02, 2010</time>
            </div>
        </div>
        <hr>
    </section>
    
    
  
    <section class="index">
        <!-- -->
        <div>
            <h2 class="title"><a href="/mol/log/ga-not-set/" rel="prefetch">Google Analytics (not set) エントリの異常増加</a></h2>
            <p><p>最近、<strong><span style="color: #888888;">ユーザー</span></strong> &gt; <strong><span style="color: #888888;">PC環境</span></strong><span style="color: #888888;"> </span>&gt; <strong><span style="color: #888888;">画面の解像度</span></strong> のメニューにおいて、 (not set) エントリが異常に多いことを同僚から指摘されました。調べてみると、一部のプロファイルでそのような現象を確認することが出来ました。</p>

<!--more-->

<p>Google Analytics で (not set)  と言えば、<a href="http://analytics-ja.blogspot.com/2010/02/not-set-entries.html">キャンペーントラッキングでのキーワード</a>問題が有名ですね。キーワードが取れていないから (not set) であるので、<strong><span style="color: #888888;">画面の解像度</span></strong><strong> </strong>においても解像度が取れてないのだろうと考えましたが、全体の中で10％も (not set) というのは、ちょっとどうゆう状況なのか考えらませんでした。数件、数十件であれば、トラッキングコード実行時になんらかのエラーがあって取れないということも考えられるでしょうが、今回の場合は多すぎます。</p>

<p><a href="http://t32k.me/mol/file/2010/09/screenresolution.png"><img class="alignnone size-full wp-image-1701" title="Screen Resolution" src="http://t32k.me/mol/file/2010/09/screenresolution.png" alt="" width="470" height="379" /></a></p>

<p>そこで、年次スパンで (not set) エントリの推移を見てみますと、どうやら5/3から急激に増加しているのが分かります。ということで、該当の期間にトラッキングコード、フィルタの変更を行ったかといえば、それも思い当たるふしがありません。</p>

<p>ということで、他のGAユーザーも同じ問題になっていないのか検索してみました。たいていは、<a href="http://www.comedywaltz.com/search/a2iforum/">アクセス解析Q＆Aフォーラム</a>を調べれば分かるのですが、分からないこともあります。</p>

<p>そんなときは、<a href="http://www.google.com/support/forum/p/Google+Analytics?hl=en">Google Analytics  Help forum</a> のほうを検索してみましょう。
<ul>
    <li><a href="http://www.google.com/support/forum/p/Google+Analytics/thread?tid=1f5631b2c79a2bf5&amp;hl=en">Huge increase in Screen Resolution/Colors of (Not Set) - Google Analytics Help</a></li>
</ul>
検索してみると、どうやら上記の質問と似ているように思えます。時期的にも同じだし、症状も似ている。この人は <strong><span style="color: #888888;">画面の解像度</span></strong><strong> </strong>だけでなく、<strong><span style="color: #888888;">画面の色</span></strong><strong> </strong>でも (not set) エントリが出ているみたい。そこで、自分のプロファイルを再度確認したところ、<strong><span style="color: #888888;">画面の色</span></strong><strong> </strong>においても同じ現象が確認できました。その他にも(not set)  エントリの異常増加は、自分のプロファイルでは、下記メニューで確認できました。
<ul>
    <li>画面の解像度　（Screen Resolutions）</li>
    <li>画面の色　（Screen Colors）</li>
    <li>フラッシュのバージョン　(Flash Versions）</li>
    <li>言語　（Languages）</li>
    <li>ホスト名 （Hostnames） <span style="color: #888888;">※これは増加ではなく急激な減少でした。</span></li>
</ul>
そんわけでいろいろ調べた結果、なんかGA自体のバグくさいので、今回はGooogle さんに問い合わせてみようと思いました。実はちゃんとGoogle Analytics のお問い合わせフォームが存在してまして、調べてみてどうしてもわからない場合は問い合わせてみるのも良いでしょう。（要：AdWordsアカウント）
<ul>
    <li><a href="https://www.google.com/support/googleanalytics/bin/request.py?cf_question=qc_5_1">https://www.google.com/support/googleanalytics/bin/request.py?cf<em>question=qc</em>5_1</a></li>
</ul>
問い合わせた結果、この問題について既に認識しており、現在、エンジニアが問題の解決に向けて鋭意対応中ではあるが、改善時期は未定とのことです。</p>

<p>Google Analyticsでは、以前にも<a href="http://blog.livedoor.jp/seo24/archives/1672067.html">ナビゲーション サマリーにおいて離脱数が0%になるバグ</a>が発生していました。（現在は修正済）　そういったバグは他にもあるかもしれませんので、こういった問題は僕らにはどうしようもできないことです。つまり、何を言いたいかと言いますと、バグ見つけたら記事にしてGoogleに問い合わせて共有しようぜってことです。3人よれば文殊の知恵ですがな。</p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2010-30-September" title="September 30, 2010">September 30, 2010</time>
            </div>
        </div>
        <hr>
    </section>
    
    
  
    <section class="index">
        <!-- -->
        <div>
            <h2 class="title"><a href="/mol/log/dotcoder4/" rel="prefetch">ドットコーダーセッション4で喋ります。</a></h2>
            <p><p>今週末になってきたので、再度告知をば。
私事ですが、9/25(土)にあの大阪のくりえいちぶ集団<a href="http://dotcoder.net/">dotcoder</a>さんでパフォーマンスの話はさせていただくことになりました。毒にも薬にもならない話ですが、よかったらどうぞ。パフォーマンス縛りのイベントって珍しいんじゃないかと思いますのでぜひぜひ。
<ul>
    <li><a href="http://tweetvite.com/event/dotcoder4">Tweetvite :: 「すこーし愛して。ながーく愛して。Webパフォーマンス」ドットコーダーセッション4 </a></li>
</ul>
※喋りました。
<ul>
    <li><a href="http://dotcoder.net/2010/10/09/1219">すこーし愛して。ながーく愛して。Webパフォーマンス ドットコーダーセッション4 :: .coder
</a></li>
</ul>
&lt;!--more--&gt;
<h3>内容</h3>
<h4>Long Life Web Performance Optimization
〜心理学から考えるWebパフォーマンス〜</h4>
<div id="_mcePaste"><a href="http://twitter.com/t32k">@t32k</a> - <a href="http://t32k.me/mol/">MOL</a></div>
<div id="_mcePaste">Webパフォーマンスにとって1ミリ秒でも早くすることはとても大事なことですが、果たしてそれはコストに見合う作業と言えるのでしょうか？ Webブラウザは進化し続けています。</div>
<div id="_mcePaste">今有効な対策だと思われていることも数年後には無意味になってるかもしれません。</div>
<div id="_mcePaste">そこで、本セッションではそういった機械側ではなく、人間側に着目し、WPOについて考えてみます。</div>
<h4>iPhoneでのウェブサイトパフォーマンス最適化を考える</h4>
<div id="_mcePaste"><a href="http://twitter.com/hiloki">@hiloki</a> - <a href="http://designblog.ecstudio.jp/">EC studio</a>, <a href="http://www.inkdesign.jp/">inkdesign</a></div>
<div id="_mcePaste">ウェブサイトパフォーマンス最適化の情報やテクニックは今やいろいろなところで見かけるのですがスマートフォン向けのウェブサイトにおける検証情報はほとんどありません。</div>
<div id="_mcePaste">モバイルデバイスこそ1ミリ秒でも1kでも最適化が必要じゃないかということで色々調べてみたことを発表します。</div>
<h4><a href="http://designblog.ecstudio.jp/tutorial/fireworks-photoshop-imagecompare.html">みんなで使おう！Fireworks！
〜Fireworksで画像最適化〜</a></h4>
<div id="_mcePaste"><a href="http://twitter.com/tomo_e">@tomo<em>e</a></div>
&lt;div id=&quot;</em>mcePaste&quot;&gt;Photoshopをウェブデザインで使ってる人は多いと思います。しかしFireworksにもいろんな機能があるんです。ねっからのPhotoshop使いの人もばりばりのFireworks使いの人もいっしょに画像の最適化というテーマでいい最適化の方法を考えてみましょう。</div>
<div id="_mcePaste">のりはゆるふわなので、にこやかな感じでいきましょう。</div>
<div id="_mcePaste">--</div>
<h3>予習</h3>
よりよい理解のためにも予習は不可欠ですので、僕のセッションは以下のスライドを事前に読んでおかれると飲み込みやすいかもしれません。
<h4>High Performance Web Design ~デザインから考えるハイパフォーマンスWebサイト~</h4>
<div id="__ss_2352987" style="width: 425px;"><object id="__sse2352987" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="425" height="355" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="allowFullScreen" value="true" /><param name="allowScriptAccess" value="always" /><param name="src" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=wpo-091026191440-phpapp02&amp;stripped_title=high-performance-web-design&amp;userName=t32k" /><param name="name" value="__sse2352987" /><param name="allowfullscreen" value="true" /><embed id="__sse2352987" type="application/x-shockwave-flash" width="425" height="355" src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=wpo-091026191440-phpapp02&amp;stripped_title=high-performance-web-design&amp;userName=t32k" name="__sse2352987" allowscriptaccess="always" allowfullscreen="true"></embed></object></div>
<div id="_mcePaste">
<ul>
    <li><a href="http://t32k.me/mol/2009/11/high-performance-web-design/">http://t32k.me/mol/2009/11/high-performance-web-design/</a></li>
</ul>
</div>
<div>デザイナー目線からフロントエンドのパフォーマンスについて考えたスライドです。</div>
<h4>Coding Web Performance ~Webパフォーマンス最適化のためのコーディング手法~</h4>
<div id="__ss_5026478" style="width: 425px;"><object id="__sse5026478" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="425" height="355" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="allowFullScreen" value="true" /><param name="allowScriptAccess" value="always" /><param name="src" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=codingwebperformance-100821143443-phpapp02&amp;stripped_title=coding-web-performance&amp;userName=t32k" /><param name="name" value="__sse5026478" /><param name="allowfullscreen" value="true" /><embed id="__sse5026478" type="application/x-shockwave-flash" width="425" height="355" src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=codingwebperformance-100821143443-phpapp02&amp;stripped_title=coding-web-performance&amp;userName=t32k" name="__sse5026478" allowscriptaccess="always" allowfullscreen="true"></embed></object></div>
<div id="_mcePaste">
<ul>
    <li><a href="http://t32k.me/mol/2010/09/coding-web-performance/">http://t32k.me/mol/2010/09/coding-web-performance/</a></li>
</ul>
</div>
<div>コーダー目線からフロントエンドのパフォーマンスについて考えたスライドです。</div>
<h4>ビジネスにおけるウェブパフォーマンス</h4>
<div id="__ss_3575704" style="width: 425px;"><object id="__sse3575704" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="425" height="355" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="allowFullScreen" value="true" /><param name="allowScriptAccess" value="always" /><param name="src" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=performancebusinesspitch-100328010037-phpapp01&amp;stripped_title=performance-business-pitch&amp;userName=t32k" /><param name="name" value="__sse3575704" /><param name="allowfullscreen" value="true" /><embed id="__sse3575704" type="application/x-shockwave-flash" width="425" height="355" src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=performancebusinesspitch-100328010037-phpapp01&amp;stripped_title=performance-business-pitch&amp;userName=t32k" name="__sse3575704" allowscriptaccess="always" allowfullscreen="true"></embed></object></div>
<div id="_mcePaste">
<ul>
    <li><a href="http://t32k.me/mol/2010/03/performance-business/">http://t32k.me/mol/2010/03/performance-business/</a></li>
</ul>
</div>
<div>Webパフォーマンス対策したらお金儲かるよーって話です。海外サイトの事例紹介。</div></p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2010-21-September" title="September 21, 2010">September 21, 2010</time>
            </div>
        </div>
        <hr>
    </section>
    
    
  
    <section class="index">
        <!-- -->
        <div>
            <h2 class="title"><a href="/mol/log/coding-web-performance/" rel="prefetch">Coding Web Performance ~Webパフォーマンス最適化のためのコーディング手法~</a></h2>
            <p><p>なるほど、9月じゃねーの!?ってことで、<a href="http://lp9.cssnite.jp/">CSS Nite LP, Disk 9</a>で話をしてから4月経ったので、薄れゆく記憶の復習も兼ねて思いの丈を綴ってみたｗ
<strong><a title="Coding Web Performance" href="http://www.slideshare.net/t32k/coding-web-performance">Coding Web Performance</a></strong>
<object id="__sse5026478" width="425" height="355" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="allowFullScreen" value="true" /><param name="allowScriptAccess" value="always" /><param name="src" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=codingwebperformance-100821143443-phpapp02&amp;stripped_title=coding-web-performance" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><embed id="__sse5026478" width="425" height="355" type="application/x-shockwave-flash" src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=codingwebperformance-100821143443-phpapp02&amp;stripped_title=coding-web-performance" allowFullScreen="true" allowScriptAccess="always" allowfullscreen="true" allowscriptaccess="always" /></object>
※コーダーさんに向けてのセッションでした。</p>

<!--more-->

<h3>Agenda</h3>

<ul>
    <li><a href="#s01">ビジネスインパクトとスタンス</a></li>
    <li><a href="#s02">ボトルネックはどこか？</a></li>
    <li><a href="#s03">とあるサイトの改善事例</a></li>
    <li><a href="#s04">今日のまとめ</a></li>
</ul>

<h3 id="s01">ビジネスインパクトとスタンス</h3>

<p>Webパフォーマンスがビジネスにおける大きなインパクトといえば、<a href="http://t32k.me/mol/log/using-site-speed-in-web-search-ranking/">Googleのランキングアルゴリズムにページの読み込み速度</a>が組み込まれたことではないでしょうか。2010年4月9日の時点ではgoogle.comで英語で検索された場合にしか適用されません。また、パフォーマンスが考慮された検索クエリも1％未満とまだまだな状況ですが、いずれ日本でも適用される日がくるかと思われますので、今日はそのWebパフォーマンスについて、お勉強をしましょう。</p>

<p>しかし、このGoogleの評価は何をもって速いとするのでしょうか？公式ブログでは様々な指標をもとに比較検討しています...とのことでした。一体何を言っているのでしょうか... とりあえず、分かっている計測基準として2つあるので紹介したいと思います。
<h4>Google AdWords</h4>
<img class="alignnone size-full wp-image-1618" title="key05" src="http://t32k.me/mol/file/2010/09/key05.png" alt="" width="470" height="352" /></p>

<p>まずはAdWords、Googleの広告サービスですね。実はAdWordsの方では2008年4月の段階から<a href="http://adwords.google.com/support/aw/bin/answer.py?hl=jp&amp;answer=10215">品質スコア</a>の評価にページの読み込み速度が取り込まれていました。品質スコアが高ければ、広告の掲載順位は高くなり、料金も安く抑えられます。この計測方法なんですけども、<a href="http://adwords.google.com/support/aw/bin/answer.py?hl=jp&amp;answer=93112">AdWordのヘルプの方にはHTMLのダウンロード時間</a>と記載されています。現在はまだHTMLファイルだけなんですけども、後々画像やJSファイルといった外部ファイルの計測も行われるようです。スライドの黄色部分に「リンク先ページの読み込み時間に、問題ありません」と書かれています。つまり、もしあなたの会社がAdWordsに出稿しているのであれば、Webパフォーマンスは既に対処しなければならない案件になっているということです。
<h4>Google Webmaster Tools</h4>
<img class="alignnone size-full wp-image-1621" title="key06" src="http://t32k.me/mol/file/2010/09/key06.png" alt="" width="470" height="352" /></p>

<p>次にウェブマスターツールなんですけども、2009年の12月に「サイトのパフォーマンス」という項目が追加されました。これは文字通りサイトの読み込み速度に関する情報が表示されます。では、何をもって速い・遅いとするのかですが、このツールではGoogleが収集したデータの上位20％が早く、残りの80%が遅いと決めているようです。そのラインが平均読み込み速度が1.4秒、スライドの赤いラインです。そうゆうわけで、私たちの目下の目標としてはこの1.4秒以下に読み込み速度を抑えるということになります。こちらの計測方法ですが、Googleツールバーをインストールしたブラウザでなおかつページランク機能を有効にしたユーザーの読み込み込み時間となっています。AdWordsの方はHTMLファイルだけの読み込み時間ですが、こちらは実際の状態に近い計測手法となっています。</p>

<p>そんなわけで、ほかにもいろんな計測をしていると思うのですが、とりあえずはこの2つを意識して対策をしていけば良いでしょう。
<h4>高速サイトがもたらす利益</h4>
高速サイトがもたらす利益としては、検索だけではありません。ベージが速く読み込まれればそれだけユーザのストレスがなくなるわけですから、再訪問数の増加やセッションあったりのPV数増加にもつながります。そうすればおのずとコンバージョン率の改善、そして収益増加。また、売上が上がるということは顧客満足の向上した結果とも言えます。そういった売上の増加だけでなく、ページをコンパクトにまとめることでサーバーの転送量が少なくすることができれば、インフラコストや帯域幅の節約などにもつながります。</p>

<p><img class="alignnone size-full wp-image-1622" title="key08" src="http://t32k.me/mol/file/2010/09/key08.png" alt="" width="470" height="352" /></p>

<p>さて、こういったビジネスインパクトがコーダーに与える影響の面を考えると、コーダーはパフォーマンスという武器を手に入れることになるのではないでしょうか。というのも、デザイナーもそうですが、ただ単純にキレイなデザイン・キレイなコードというのはクライアントさんや、その上のマネジメント層にとっては興味のないことであって、彼らが知りたいのは売上です（そもそも彼らの仕事は数字を見ることですからね）。ですから、商品をできるだけ目立たそうとして、デザイン的に無理な要求であったり、例外処理ばかりのコードになることも多々あります。そこで、私はデザイナーとして「トーンアンドマナーが...」など言うのですが全然聞いてくれません。ところが隣のSEOチームが「いや、それはSEO的に良くないのでやめて下さい」と言えば、素直に従ってくれます。これはまぁ、SEO的に悪い＝検索順位が下がる＝売上が下がるといった思考パターンですよね。つまり、今回WebパフォーマンスがGoogleのランキングアルゴリズムに組み込まれたということで、その程度はどうであれ、SEOとパフォーマンスを絡めることができる。そしてパフォーマンス対策できるコーダーの存在感が高まるのではないでしょうか。社内の存在感が高まれば、それだけ自分の好きなこと・やりたいことを貫ける可能性も高まるのではないかと私は考えます。</p>

<p>とはいえ、コーダー・デザイナーは忙しいです。HTML5/CSS3は次から次へといろんなAPI、プロパティが出てきています。最近、jQueryナウいよねってことでJavaScriptを多用すれば、アクセシビリティやユーザービリティに関しても気を使わなければなりません。またサイト全体の情報アーキテクチャも考えなければならないし、アクセス解析も嗜みたいところ。そこで、今回取り上げるWebパフォーマンスですか？それはちょっと、無理無理カタツムリよーってことで。</p>

<p><img class="alignnone size-full wp-image-1623" title="key11" src="http://t32k.me/mol/file/2010/09/key11.png" alt="" width="470" height="352" /></p>

<p>とはいえ、来週あなたの上司が「パフォーマンス対策はどうなっとらんやー！」って聞いてきたらどうしましょうか？HTMLのコード量を減らしましょうか？JSの変数名やCSSセレクタを短いものに置き換えていきましょうか？そういった明後日の方向に進まない（まず最初に取り組まなければならない問題ではない）ためにも今回のセッションの目的は<strong>最小限の対策で最大限の効果</strong>をあげれるような対策を紹介します。
<h3 id="s02">ボトルネックはどこか？</h3>
最小限の対策で最大限の効果をあげるためには、ボトルネックを探しそれを取り除いてあげればいいんですね。とは言っても、Webパフォーマンスという目に見えないものを対策するにあたって、それをビジュアライズするツールが必要になってきます、それが、この<a href="http://www.httpwatch.com/">HTTPWatch</a>です。こういったツールは他にもFirebugの接続パネルやSafariのリソースパネルなどがありますが、HTTPWatchはWindows上でIEとFxで動作するので採用しています。</p>

<p>このツール最大の機能はウォーターフォールチャートです。これが何を表しているのかというと、ページの読み込まれ方を表しています。この1つ1つのバーがページのコンポーネント、画像であったり、CSS、JSファイルであったりページの部品を表しています。横軸が時間経過を表しているのでこれが横に長ければ長いほど読み込み時間に時間がかかかっているのが読み取れます。とは言っても、バーの赤色とか緑色は何を表しているの？って感じですよね。<a href="http://t32k.me/mol/log/httpwatch/">HTTPWatchのヘルプ</a>には以下のように記載されていました。
<ul>
    <li>ブロッキング</li>
    <li>DNSルックアップ</li>
    <li>コネクト - 接続</li>
    <li>センド - 送信</li>
    <li>ウェイト - 待機</li>
    <li>レシーブ - 受信</li>
    <li>キャッシュ読み込み</li>
</ul>
<img class="alignnone size-full wp-image-1626" title="key17" src="http://t32k.me/mol/file/2010/09/key17.png" alt="" width="470" height="352" /></p>

<p>用語だけ言われても分かりませんので、具体的に見ていきますと。まず、サーバーとクライアントであるブラウザがあります。例えばCSS Niteの公式サイトを見たいとするのならば、ブラウザのURL欄にcssnite.jpと打ち込むでしょう。そうすると、ブラウザは打ち込まれたURLをIPアドレスに変換するためにISPなどに問い合わせにいきます。そして問い合わせた結果が届いた時間までが<strong>DNSルックアップ</strong>です。次に、そのIPアドレス上にあるサーバーに接続を試み、うまく接続できたならばOKのレスポンスを返します。ここまでが<strong>コネクト</strong>です。ソケット接続とかTCP接続などと呼ぼれる部分です。この部分は持続接続可能なので2回目以降は省略されます。そして次がもっとも大事なHTTPリクエスト。cssnite.jpのindex.htmlなどのリソースを探しにいきます。そしてサーバーがこれねこれね、ということで見つけたリソースの最初のパケットデータが届いた時点が<strong>ウェイト</strong>です。そして残りのデータをすべて送りブラウザに届いた時点が<strong>レシーブ</strong>です。このレシーブが一般的にファイルのダウンロード時間と考えらています。</p>

<p><img class="alignnone size-full wp-image-1625" title="key15" src="http://t32k.me/mol/file/2010/09/key15.png" alt="" width="470" height="352" /></p>

<p>このことをふまえて、もう一度先ほどのウォーターフォールチャートを見て見ますと、どうでしょうか？何色が目立ちますか？どう見たって赤色ですよね。Webパフォーマンスと言われるとファイルのダウンロード時間を短くすればいいんじゃね？と考えがちなんですが、この場合、緑色の部分はなんてほとんどないですよね。そもそもこのウォーターフォールチャートはどこのページを読み込んでいるかというと、後ほど紹介するとある一般的な企業サイトです。どのコンポーネントも数キロバイトの画像です。このスライドから読み取れるに、4キロバイトの画像も5キロバイトの画像もダウンロードにかかっている時間はそう変わらなくて（だからと言って画像の最適化を怠ってはいいということではありません）、ダウンロード時間の何倍もの時間をウェイト時間に費やされているのが分かります。ウェイト時間はサーバーの待ち時間なので、私たちデザイナー・コーダーにとってはどうしようもできない部分です。必ずかかる税金のようなものです。</p>

<p><img class="alignnone size-full wp-image-1627" title="key20" src="http://t32k.me/mol/file/2010/09/key20.png" alt="" width="470" height="352" /></p>

<p>この仕様をとあるハンバーガー屋さんで例えてみますと、レシーブ時間をハンバーガーを作る時間、ウェイト時間をお会計にかかる時間とします。さらにこのお店は一回の注文につき一つの商品（リクエスト）しかできません。つまりチーズバーガーが2個欲しければ、チーズバーガー１つくださいと言って、作ってもらってお会計をして、またチーズバーガー一つのくださいと言って作ってもらってお会計するというようなめんどくさいことをしなければなりません。</p>

<p><img class="alignnone size-full wp-image-1628" title="key21" src="http://t32k.me/mol/file/2010/09/key21.png" alt="" width="470" height="352" /></p>

<p>もう一度、先ほどのウォーターフォールチャートを見てみますと、これは実はIE6で読み込まれたウォーターフォールチャートです。ここにはもう一つ重要なことが隠されていてます。</p>

<p><img class="alignnone size-full wp-image-1629" title="key22" src="http://t32k.me/mol/file/2010/09/key22.png" alt="" width="470" height="352" /></p>

<p>とりあえず、この同じページをFirefox3.6で読み込んでみますとこのようなウォーターフォールチャートになりました。皆さん、一体どこが違うでしょうか？ここでは、バー1つ1つの長さは比較対象にはしていません。それよりも、なんだかコンポーネントの読み込まれ方が違いませんか？どうやらIEのほうはなだらかに読み込まれていて、Fxの方は急な勾配になっているのが分かりますね。これがどういった違いによるものかと言いますと、
<h4>ホスト名毎の同時接続数</h4>
<img class="alignnone size-full wp-image-1630" title="key23" src="http://t32k.me/mol/file/2010/09/key23.png" alt="" width="470" height="352" /></p>

<p>ホスト名毎の同時接続数によるものなんですね。HTTP/1.1の仕様ではひとつのホスト名（www.cssnite.jpのような完全修飾ドメイン）に対して同時接続できるコンポーネントは2つまでと決まっています。実際のブラウザの実装はどうなっているかと言いますと、FxやChrome,Safariなどは6や5つ同時接続できるのですが、ここで着目してほしいのはIE6,7のようなシェアの高いブラウザのが2つだという点です。</p>

<p><a href="http://t32k.me/mol/file/2010/09/key24.png"><img class="alignnone size-full wp-image-1631" title="key24" src="http://t32k.me/mol/file/2010/09/key24.png" alt="" width="470" height="352" /></a></p>

<p>先ほどのウォータフォールチャートを見てみますと、実装どうりの挙動をしているのがわかりますね。より多く同時接続できている方が早いです。</p>

<p><img class="alignnone size-full wp-image-1632" title="key26" src="http://t32k.me/mol/file/2010/09/key26.png" alt="" width="470" height="352" /></p>

<p>これをふまえた上でもう1度ウォーターフォールチャートみてみますと、このIE6のなだらかな階段状になっているのは冒頭で紹介したブロッキング時間（灰色の部分）に時間を費やされているのががわかります。サーバーに同時接続できるのは2つまでなので、それ以降のコンポーネントはダウンロードが完了するまで待たなければいけません。そしてダウンロード完了すれば次のコンポーネントが1つだけ接続されて、また次のコンポーネントは待たなければいけない。つまり、接続出来ていないコンポーネントは順番待ちをしている状態です。一番最後のコンポーネントを見ますとかなりの時間を順番待ち（ブロッキング）に時間を費やしているのが読み取れます。</p>

<p><img class="alignnone size-full wp-image-1635" title="key28" src="http://t32k.me/mol/file/2010/09/key28.png" alt="" width="470" height="352" /></p>

<p>この状態をまたとあるハンバーガー屋さんで例えてみますと、先程紹介したお店は1回の注文につき1つの商品しか頼めません。しかも、このお店はレジが2つしかないんですね。ですから、当然大勢のお客さんが群がれば（大量のコンポーネントをリクエストすれば）待ち時間が多くなる。当然、ページの読み込み時間も遅くなるということです。</p>

<p>つまり、ウェイト時間とブロッキング時間から、<strong>HTTPリクエストは非常にコストが高い</strong>ものだということが理解できます。
<h3 id="s03">とあるサイトの改善事例</h3>
ボトルネックはHTTPリクエストだということが理解できたので、今度は実際にどのようにHTTPリクエストを減らしていくのか、とあるサイトを例に考えていきましょう。</p>

<p>改善手法として使ったのは以下の5つです。
<ul>
    <li>CSSスプライト</li>
    <li>データURIスキーム</li>
    <li>CSS,JSファイルの結合</li>
    <li>CSS3プロパティ</li>
    <li>奥の手</li>
</ul>
<h4>CSSスプライト</h4>
まずは、CSSスプライトなんですが皆さんも使ったことがある人は多いのではないでしょうか。CSSスプライトを改めて紹介しますと、複数の画像を1つの合成画像としてグループ化して背景の位置指定を使って表示する方法です。簡単に言えば、1つの画像を使い回ししているのですね。例えば、通常であればグローバルナビメニューなどは各メニューごとに画像を切りだしてコーディングしていくと思うのですが、そうしてしまいますと、先程言いましたようにその画像1つ1つにHTTPリクエストが発生してしまいます。それでは良くないので、全部まるっとまとめちゃっいますと、それだけHTTPリクエストが減らすことができます。</p>

<p><img class="alignnone size-full wp-image-1638" title="key35" src="http://t32k.me/mol/file/2010/09/key35.png" alt="" width="470" height="352" /></p>

<p>実際どうなのかというところをHTTPWatchで確認してみますと、私の環境ではスプライト前とスプライト後では150msも変化が置きました。使っている画像も同じでコーディングの仕方を変更するだけでこれほど違いが出るのはとても有効な手段かと感じます。</p>

<p><img class="alignnone size-full wp-image-1639" title="key36" src="http://t32k.me/mol/file/2010/09/key36.png" alt="" width="470" height="352" /></p>

<p>そう考えますと、CSSスプライト最強じゃね？全部スプライトしちゃえばいいんじゃね？って考えがちですが、スプライトのジレンマというのがあります。ページ数、保守性、最適化。スプライトをする上でこの3つの中から2つしかとれないんですね。例えば、多くのページ数を保守性を保ちながらスプライトすると、最適化はちょっとあきらめなければいけない。また、多くのページ数を可能な限り最適化すれば保守性はごめんってなります。はたまた、保守性を意識しつつ最適化すれば、適用できるページ数は少なくなってしまいます。</p>

<p>先程の改善事例もHTTPリクエストを可能な限り少なくするには全部まとめれば良いのですが、それではグローバルナビに変更が起きた場合、関係ないローカルナビの位置も変更しなければならない手間も増えてしまいます。ですので、この改善事例の場合は3つのグループに分けて運用しています。</p>

<p>とはいえ、HTTPリクエストはスプライトを適用する前から11-&gt;3になったので8つも減らすことができました。
<h4>データURIスキーム</h4>
<img class="alignnone size-full wp-image-1640" title="key38" src="http://t32k.me/mol/file/2010/09/key38.png" alt="" width="470" height="352" /></p>

<p>次にデータURIスキームですが、これは画像ファイルをリクエストすることなく画像をマークアップ中に埋め込むことできるシロモノです。一体何を言ってるのか分かんねぇと思うが、起こったことをありのまま話すぜ。まぁ、上記のスライドを見ればわかると思います。単にリソースのパスを書けばリクエストしにいっちゃいますんで、そうではなくて長ーい文字列に画像を変換しているのですね。このような変換は<a href="http://t32k.me/mol/log/data-uri-scheme/">オンラインの変換ツール</a>がありますので、利用すれば良いと思います。</p>

<p>これまたデータURIスキーム最強じゃね？って思うのですが、これにも弱点がありまして、まずIE7以下が非対応であること。改善事例のサイトでは残念ながらこのようなブラウザに対してはCSSハックで分岐処理して通常の画像を読み込ませています。次に、サイズ制限の問題。一番厳しいOpera7.2で4.1KBとなっています。なので、データURIスキームを適用できるのはアイコン画像のような比較的小さな画像だけと考えておきましょう。</p>

<p>そんなわけで、データURIスキームのおかげでIE7以下以外は HTTPリクエストを1個減らせることができました。
<h4>CSS,JSファイルの結合</h4>
これはそのままです、単にまとめるだけです。例えば、事例のサイトではリセットCSSにYUIのreset.css,font.cssを使用し、プラス、ページの構造を記述したCSSを使ってました。これでは3つのリクエストが発生してしまいますので、全部まとめてcommon.cssなどにします。また、JSファイルもjQueryを読み込んでいたのと、そのプラグインJSを2つほど読み込んでいたのでこれもまたcommon.jsにまとめちゃいました。このサイトは僕1人で運営しているので、これで特に問題ないのですが、中・大規模サイトであれば複数人でのコーディングが考えられますので、ファイルのバッティングなどの問題があります。今、俺触ってるから君触っちゃだめ！みたいな。そうゆう場合は、PHPのinclude文など使って擬似的に@importを再現すれば良いでしょう。ただ@importすれば、それはHTTPリクエストしたことと同じですので注意が必要です。</p>

<p>そんなわけで、HTTPリクエストは6つから2つに。4つ減らすことができました。
<h4>CSS3プロパティ</h4>
<img class="alignnone size-full wp-image-1642" title="key43" src="http://t32k.me/mol/file/2010/09/key43.png" alt="" width="470" height="352" /></p>

<p>CSS3は事例のサイトでは使ってはいないのですが、来るべき時代に備えときましょう。ここであげたプロパティに関して共通して言えることは、今まで画像を使わないと表現できなかったことがCSSのコード数行で実現できる点です。とはいえ、ここにいない子のことを考えますと、そのようなブラウザに対してどのような対応していくのかサイトオーナー、方針などともに考えていく必要性があるでしょう。
<h4>奥の手</h4>
今まで、4つの対策を見てきたのですが、どれもなにかしらの弱点があります。非常にコマッタピョンです。なにか一発お手軽簡単な方法はないかなーないかなーとt32k考えました。考えた考えた上でデザイン変えればいいんじゃね？（※コーダーさんに向けてのセッションでした）</p>

<p>これはちょっと冗談でなく、実体験からの考えです。<a href="http://t32k.me/mol/log/introduction-to-web-performance/">WDE2009でNicole Sulivanさんのワークショップ</a>に参加しました。そこで僕は今回の改善事例のサイトを題材にパフォーマンスに関してアドバイスをいただきました。そこで言われたことは「JSファイルが重いようだけど、どこで使っているの？」と問われ、スムーススクロールを実現するためにjQueryとそのプラグインを読み込んでいますと言うと、「コストをかけすぎじゃない？」と言われました。彼女は元はJavaのエンジニアで、そういったエンジニアの方からデザイン・振る舞いに関して何かを言われたということはあまりないことでとても印象的でした。というか、ちょっと凹みました。</p>

<p><img class="alignnone size-full wp-image-1643" title="key47" src="http://t32k.me/mol/file/2010/09/key47.png" alt="" width="470" height="352" /></p>

<p>そこで、帰ってもう1度対策を考えてみました。まず、指摘されたスムーススクロール。これは長いページでページ内遷移する場合、通常であれば瞬間的に移動するのでページ遷移したと感じてしまう可能性があるので、ゆっくりスクロールして移動することでページ内遷移であることを示す効果があります。とはいえ、改善事例のサイトではそのような必要性があるような長いページもほとんどありませんでした。また、本当に使われていないかGoogle Analyticsで「このページの先頭へ」というリンクがどれほどクリックされているのか計測してみたところ月で数回程度、このサイトは月間2万PVあるので、ほとんど使用されていないことが分かりましたので、不採用としました。</p>

<p>また、検索ボタンの画像も、画像だからといって検索されやすいこともないだろうと考えブラウザデフォルトのSubmitボタンに変更しました。（これも月数回程度の利用率だったので）</p>

<p>一般的にWebデザイナーというのはビジュアル重視しがちであまり数値を気にしない職種かもしれません。（かもねかもね.. ）そこでコーダーさんは今回Webパフォーマンス対するコスト意識を学んだので、それをデザイナーさんに説明することでデザインを変更してもらうというのも１つの手段になるかと考えます。</p>

<p><img class="alignnone size-full wp-image-1644" title="key49" src="http://t32k.me/mol/file/2010/09/key49.png" alt="" width="470" height="352" /></p>

<p>以上のような対策をしてきた結果、冒頭で紹介したこのサイトのパフォーマンスは常時、1.4秒以下に抑えることができました。もう少し詳しく説明しますとトップページのHTTPリクエスト数は32から17に減少。平均読み込み時間は0.5秒。Googleが収集しているデータ全体の中で上位2%にはいる高速サイトとなりました。（2010/4/8）</p>

<p>今回の対策にあたり、私はHTMLを1から組み直したわけでもなく、サーバーの設定をカリカリにチューニングしたわけではありません。当初の目標に設定したとおり、HTTPリクエストを減らすという最小限の対策でこのような最大限の効果が得られたと考えています。
<h3 id="s04">今日のまとめ</h3>
<a href="http://t32k.me/mol/log/performance-business/">Webパフォーマンスがビジネスに与える影響は非常に大きなもの</a>ですので、それをうまく利用することでコーダーさんの武器にしてください。</p>

<p>パフォーマンスをあげるにはHTTPリクエストを減らすことが一般的に最も効果が高いと思われます（そうでない場合はHTTPWatchなどのツールを使って検証してみてください）。ボトルネックはHTTPリクエストです。</p>

<p>しかし改善事例から学ぶに、 HTTPリクエストを減らす、1発簡単お手軽な方法は皆無です。それぞれ何かしらの問題を抱えています。そこでこれ以上減らすことができないのであればデザイナーさんに相談してみるのも1つの手でしょう。</p>

<p>反対にデザイナーはなぜそこで画像を使わなければならないのか？なぜそのデザインなのか？という説明責任を果たす必要があります。</p>

<p>長々、喋ってきたましたがコーダーさんもデザイナーさんもエンジニアさんも仲良くWebパフォーマンスに取り組んでいけたら幸いです。</p>

<p><img class="alignnone size-full wp-image-1646" title="key54" src="http://t32k.me/mol/file/2010/09/key54.png" alt="" width="470" height="352" /></p>

<p>ありがとうございました。
<h4>参考書籍</h4>
<ul>
    <li><a href="http://www.amazon.co.jp/gp/product/487311361X?ie=UTF8&amp;tag=warikiru-22&amp;linkCode=as2&amp;camp=247&amp;creative=7399&amp;creativeASIN=487311361X">ハイパフォーマンスWebサイト —高速サイトを実現する14のルール</a><img style="border: none !important; margin: 0px !important;" src="http://www.assoc-amazon.jp/e/ir?t=warikiru-22&amp;l=as2&amp;o=9&amp;a=487311361X" alt="" width="1" height="1" border="0" /></li>
    <li><a href="http://www.amazon.co.jp/gp/product/4873114462?ie=UTF8&amp;tag=warikiru-22&amp;linkCode=as2&amp;camp=247&amp;creative=7399&amp;creativeASIN=4873114462">続・ハイパフォーマンスWebサイト —ウェブ高速化のベストプラクティス</a><img style="border: none !important; margin: 0px !important;" src="http://www.assoc-amazon.jp/e/ir?t=warikiru-22&amp;l=as2&amp;o=9&amp;a=4873114462" alt="" width="1" height="1" border="0" /></li>
    <li><a href="http://www.amazon.co.jp/gp/product/4873114314?ie=UTF8&amp;tag=warikiru-22&amp;linkCode=as2&amp;camp=247&amp;creative=7399&amp;creativeASIN=4873114314">オプティマイジングWebサイト —SEO・サーバ・クライアントの最適化技術</a><img style="border: none !important; margin: 0px !important;" src="http://www.assoc-amazon.jp/e/ir?t=warikiru-22&amp;l=as2&amp;o=9&amp;a=4873114314" alt="" width="1" height="1" border="0" /></li>
</ul>
&nbsp;</p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2010-06-September" title="September 06, 2010">September 06, 2010</time>
            </div>
        </div>
        <hr>
    </section>
    
    
    <section class="pagination" style="text-align:center">
      
        
        <a href="/mol/page31" class="btn btn-outline">‹ Newer</a>
        
      
      
        <a href="/mol/page33" class="btn btn-outline">Older ›</a>
      
    </section>
</article>


<footer class="site-footer">
    <div class="container">
        &copy; 2013 
        
        <nav>
            <a href="http://t32k.me/">MOL</a> &middot;
            <a href="/mol/">Blog</a> &middot;
            <a href="https://github.com/t32k/maple">Maple</a> &middot; 
            <a href="https://github.com/t32k/t32k.github.io/blob/master/README.md">About</a>
        </nav>
        
        <nav class="social">
            
            <a href="https://twitter.com/t32k" title="Follow on Twitter" target="_blank"><i class="icon icon-twitter black"></i></a>
            
            
            <a href="http://facebook.com/t32k" title="Follow on Facebook" target="_blank"><i class="icon icon-facebook black"></i></a>
                
            <a href="/feed.xml" title="RSS Feed">
                <i class="icon icon-rss black"></i>
            </a>
        </nav>
        <!--p>Incorporated theme by <a href="https://sendtoinc.com">Inc</a></p-->
    </div>
</footer>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="/mol/assets/main.js"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=253595308025739";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>



</body>
</html>